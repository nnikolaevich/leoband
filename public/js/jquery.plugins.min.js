/* window smartresize */
(function (c, b) {
    var a = function (g, d, e) {
        var h;
        return function f() {
            var k = this, j = arguments;

            function i() {
                if (!e) {
                    g.apply(k, j)
                }
                h = null
            }

            if (h) {
                clearTimeout(h)
            } else {
                if (e) {
                    g.apply(k, j)
                }
            }
            h = setTimeout(i, d || 100)
        }
    };
    jQuery.fn[b] = function (d) {
        return d ? this.bind("resize", a(d)) : this.trigger(b)
    }
})(jQuery, "smartresize");

/* jquery.forms */
(function (a) {
    "use strict";
    function c(b) {
        var c = b.data;
        b.isDefaultPrevented() || (b.preventDefault(), a(this).ajaxSubmit(c))
    }

    function d(b) {
        var c = b.target, d = a(c);
        if (!d.is("[type=submit],[type=image]")) {
            var e = d.closest("[type=submit]");
            if (0 === e.length)return;
            c = e[0]
        }
        var f = this;
        if (f.clk = c, "image" == c.type)if (void 0 !== b.offsetX)f.clk_x = b.offsetX, f.clk_y = b.offsetY; else if ("function" == typeof a.fn.offset) {
            var g = d.offset();
            f.clk_x = b.pageX - g.left, f.clk_y = b.pageY - g.top
        } else f.clk_x = b.pageX - c.offsetLeft, f.clk_y = b.pageY - c.offsetTop;
        setTimeout(function () {
            f.clk = f.clk_x = f.clk_y = null
        }, 100)
    }

    function e() {
        if (a.fn.ajaxSubmit.debug) {
            var b = "[jquery.form] " + Array.prototype.join.call(arguments, "");
            window.console && window.console.log ? window.console.log(b) : window.opera && window.opera.postError && window.opera.postError(b)
        }
    }

    var b = {};
    b.fileapi = void 0 !== a("<input type='file'/>").get(0).files, b.formdata = void 0 !== window.FormData, a.fn.ajaxSubmit = function (c) {
        function y(b) {
            var f, g, c = a.param(b).split("&"), d = c.length, e = {};
            for (f = 0; d > f; f++)c[f] = c[f].replace(/\+/g, " "), g = c[f].split("="), e[decodeURIComponent(g[0])] = decodeURIComponent(g[1]);
            return e
        }

        function z(b) {
            for (var e = new FormData, f = 0; b.length > f; f++)e.append(b[f].name, b[f].value);
            if (c.extraData) {
                var g = y(c.extraData);
                for (var h in g)g.hasOwnProperty(h) && e.append(h, g[h])
            }
            c.data = null;
            var i = a.extend(!0, {}, a.ajaxSettings, c, {contentType:!1, processData:!1, cache:!1, type:d || "POST"});
            c.uploadProgress && (i.xhr = function () {
                var a = jQuery.ajaxSettings.xhr();
                return a.upload && (a.upload.onprogress = function (a) {
                    var b = 0, d = a.loaded || a.position, e = a.total;
                    a.lengthComputable && (b = Math.ceil(100 * (d / e))), c.uploadProgress(a, d, e, b)
                }), a
            }), i.data = null;
            var j = i.beforeSend;
            return i.beforeSend = function (a, b) {
                b.data = e, j && j.call(this, a, b)
            }, a.ajax(i)
        }

        function A(b) {
            function y(a) {
                var b = a.contentWindow ? a.contentWindow.document : a.contentDocument ? a.contentDocument : a.document;
                return b
            }

            function B() {
                function g() {
                    try {
                        var a = y(o).readyState;
                        e("state = " + a), a && "uninitialized" == a.toLowerCase() && setTimeout(g, 50)
                    } catch (b) {
                        e("Server abort: ", b, " (", b.name, ")"), G(x), t && clearTimeout(t), t = void 0
                    }
                }

                var b = h.attr("target"), c = h.attr("action");
                f.setAttribute("target", m), d || f.setAttribute("method", "POST"), c != j.url && f.setAttribute("action", j.url), j.skipEncodingOverride || d && !/post/i.test(d) || h.attr({encoding:"multipart/form-data", enctype:"multipart/form-data"}), j.timeout && (t = setTimeout(function () {
                    s = !0, G(w)
                }, j.timeout));
                var i = [];
                try {
                    if (j.extraData)for (var k in j.extraData)j.extraData.hasOwnProperty(k) && (a.isPlainObject(j.extraData[k]) && j.extraData[k].hasOwnProperty("name") && j.extraData[k].hasOwnProperty("value") ? i.push(a('<input type="hidden" name="' + j.extraData[k].name + '">').attr("value", j.extraData[k].value).appendTo(f)[0]) : i.push(a('<input type="hidden" name="' + k + '">').attr("value", j.extraData[k]).appendTo(f)[0]));
                    j.iframeTarget || (n.appendTo("body"), o.attachEvent ? o.attachEvent("onload", G) : o.addEventListener("load", G, !1)), setTimeout(g, 15), f.submit()
                } finally {
                    f.setAttribute("action", c), b ? f.setAttribute("target", b) : h.removeAttr("target"), a(i).remove()
                }
            }

            function G(b) {
                if (!p.aborted && !F) {
                    try {
                        D = y(o)
                    } catch (c) {
                        e("cannot access response document: ", c), b = x
                    }
                    if (b === w && p)return p.abort("timeout"), v.reject(p, "timeout"), void 0;
                    if (b == x && p)return p.abort("server abort"), v.reject(p, "error", "server abort"), void 0;
                    if (D && D.location.href != j.iframeSrc || s) {
                        o.detachEvent ? o.detachEvent("onload", G) : o.removeEventListener("load", G, !1);
                        var f, d = "success";
                        try {
                            if (s)throw"timeout";
                            var g = "xml" == j.dataType || D.XMLDocument || a.isXMLDoc(D);
                            if (e("isXml=" + g), !g && window.opera && (null === D.body || !D.body.innerHTML) && --E)return e("requeing onLoad callback, DOM not available"), setTimeout(G, 250), void 0;
                            var h = D.body ? D.body : D.documentElement;
                            p.responseText = h ? h.innerHTML : null, p.responseXML = D.XMLDocument ? D.XMLDocument : D, g && (j.dataType = "xml"), p.getResponseHeader = function (a) {
                                var b = {"content-type":j.dataType};
                                return b[a]
                            }, h && (p.status = Number(h.getAttribute("status")) || p.status, p.statusText = h.getAttribute("statusText") || p.statusText);
                            var i = (j.dataType || "").toLowerCase(), k = /(json|script|text)/.test(i);
                            if (k || j.textarea) {
                                var m = D.getElementsByTagName("textarea")[0];
                                if (m)p.responseText = m.value, p.status = Number(m.getAttribute("status")) || p.status, p.statusText = m.getAttribute("statusText") || p.statusText; else if (k) {
                                    var q = D.getElementsByTagName("pre")[0], r = D.getElementsByTagName("body")[0];
                                    q ? p.responseText = q.textContent ? q.textContent : q.innerText : r && (p.responseText = r.textContent ? r.textContent : r.innerText)
                                }
                            } else"xml" == i && !p.responseXML && p.responseText && (p.responseXML = H(p.responseText));
                            try {
                                C = J(p, i, j)
                            } catch (b) {
                                d = "parsererror", p.error = f = b || d
                            }
                        } catch (b) {
                            e("error caught: ", b), d = "error", p.error = f = b || d
                        }
                        p.aborted && (e("upload aborted"), d = null), p.status && (d = p.status >= 200 && 300 > p.status || 304 === p.status ? "success" : "error"), "success" === d ? (j.success && j.success.call(j.context, C, "success", p), v.resolve(p.responseText, "success", p), l && a.event.trigger("ajaxSuccess", [p, j])) : d && (void 0 === f && (f = p.statusText), j.error && j.error.call(j.context, p, d, f), v.reject(p, "error", f), l && a.event.trigger("ajaxError", [p, j, f])), l && a.event.trigger("ajaxComplete", [p, j]), l && !--a.active && a.event.trigger("ajaxStop"), j.complete && j.complete.call(j.context, p, d), F = !0, j.timeout && clearTimeout(t), setTimeout(function () {
                            j.iframeTarget || n.remove(), p.responseXML = null
                        }, 100)
                    }
                }
            }

            var g, i, j, l, m, n, o, p, q, r, s, t, f = h[0], u = !!a.fn.prop, v = a.Deferred();
            if (a("[name=submit],[id=submit]", f).length)return alert('Error: Form elements must not have name or id of "submit".'), v.reject(), v;
            if (b)for (i = 0; k.length > i; i++)g = a(k[i]), u ? g.prop("disabled", !1) : g.removeAttr("disabled");
            if (j = a.extend(!0, {}, a.ajaxSettings, c), j.context = j.context || j, m = "jqFormIO" + (new Date).getTime(), j.iframeTarget ? (n = a(j.iframeTarget), r = n.attr("name"), r ? m = r : n.attr("name", m)) : (n = a('<iframe name="' + m + '" src="' + j.iframeSrc + '" />'), n.css({position:"absolute", top:"-1000px", left:"-1000px"})), o = n[0], p = {aborted:0, responseText:null, responseXML:null, status:0, statusText:"n/a", getAllResponseHeaders:function () {
            }, getResponseHeader:function () {
            }, setRequestHeader:function () {
            }, abort:function (b) {
                var c = "timeout" === b ? "timeout" : "aborted";
                if (e("aborting upload... " + c), this.aborted = 1, o.contentWindow.document.execCommand)try {
                    o.contentWindow.document.execCommand("Stop")
                } catch (d) {
                }
                n.attr("src", j.iframeSrc), p.error = c, j.error && j.error.call(j.context, p, c, b), l && a.event.trigger("ajaxError", [p, j, c]), j.complete && j.complete.call(j.context, p, c)
            }}, l = j.global, l && 0 === a.active++ && a.event.trigger("ajaxStart"), l && a.event.trigger("ajaxSend", [p, j]), j.beforeSend && j.beforeSend.call(j.context, p, j) === !1)return j.global && a.active--, v.reject(), v;
            if (p.aborted)return v.reject(), v;
            q = f.clk, q && (r = q.name, r && !q.disabled && (j.extraData = j.extraData || {}, j.extraData[r] = q.value, "image" == q.type && (j.extraData[r + ".x"] = f.clk_x, j.extraData[r + ".y"] = f.clk_y)));
            var w = 1, x = 2, z = a("meta[name=csrf-token]").attr("content"), A = a("meta[name=csrf-param]").attr("content");
            A && z && (j.extraData = j.extraData || {}, j.extraData[A] = z), j.forceSync ? B() : setTimeout(B, 10);
            var C, D, F, E = 50, H = a.parseXML || function (a, b) {
                return window.ActiveXObject ? (b = new ActiveXObject("Microsoft.XMLDOM"), b.async = "false", b.loadXML(a)) : b = (new DOMParser).parseFromString(a, "text/xml"), b && b.documentElement && "parsererror" != b.documentElement.nodeName ? b : null
            }, I = a.parseJSON || function (a) {
                return window.eval("(" + a + ")")
            }, J = function (b, c, d) {
                var e = b.getResponseHeader("content-type") || "", f = "xml" === c || !c && e.indexOf("xml") >= 0, g = f ? b.responseXML : b.responseText;
                return f && "parsererror" === g.documentElement.nodeName && a.error && a.error("parsererror"), d && d.dataFilter && (g = d.dataFilter(g, c)), "string" == typeof g && ("json" === c || !c && e.indexOf("json") >= 0 ? g = I(g) : ("script" === c || !c && e.indexOf("javascript") >= 0) && a.globalEval(g)), g
            };
            return v
        }

        if (!this.length)return e("ajaxSubmit: skipping submit process - no element selected"), this;
        var d, f, g, h = this;
        "function" == typeof c && (c = {success:c}), d = this.attr("method"), f = this.attr("action"), g = "string" == typeof f ? a.trim(f) : "", g = g || window.location.href || "", g && (g = (g.match(/^([^#]+)/) || [])[1]), c = a.extend(!0, {url:g, success:a.ajaxSettings.success, type:d || "GET", iframeSrc:/^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank"}, c);
        var i = {};
        if (this.trigger("form-pre-serialize", [this, c, i]), i.veto)return e("ajaxSubmit: submit vetoed via form-pre-serialize trigger"), this;
        if (c.beforeSerialize && c.beforeSerialize(this, c) === !1)return e("ajaxSubmit: submit aborted via beforeSerialize callback"), this;
        var j = c.traditional;
        void 0 === j && (j = a.ajaxSettings.traditional);
        var l, k = [], m = this.formToArray(c.semantic, k);
        if (c.data && (c.extraData = c.data, l = a.param(c.data, j)), c.beforeSubmit && c.beforeSubmit(m, this, c) === !1)return e("ajaxSubmit: submit aborted via beforeSubmit callback"), this;
        if (this.trigger("form-submit-validate", [m, this, c, i]), i.veto)return e("ajaxSubmit: submit vetoed via form-submit-validate trigger"), this;
        var n = a.param(m, j);
        l && (n = n ? n + "&" + l : l), "GET" == c.type.toUpperCase() ? (c.url += (c.url.indexOf("?") >= 0 ? "&" : "?") + n, c.data = null) : c.data = n;
        var o = [];
        if (c.resetForm && o.push(function () {
            h.resetForm()
        }), c.clearForm && o.push(function () {
            h.clearForm(c.includeHidden)
        }), !c.dataType && c.target) {
            var p = c.success || function () {
            };
            o.push(function (b) {
                var d = c.replaceTarget ? "replaceWith" : "html";
                a(c.target)[d](b).each(p, arguments)
            })
        } else c.success && o.push(c.success);
        c.success = function (a, b, d) {
            for (var e = c.context || this, f = 0, g = o.length; g > f; f++)o[f].apply(e, [a, b, d || h, h])
        };
        var q = a('input[type=file]:enabled[value!=""]', this), r = q.length > 0, s = "multipart/form-data", t = h.attr("enctype") == s || h.attr("encoding") == s, u = b.fileapi && b.formdata;
        e("fileAPI :" + u);
        var w, v = (r || t) && !u;
        c.iframe !== !1 && (c.iframe || v) ? c.closeKeepAlive ? a.get(c.closeKeepAlive, function () {
            w = A(m)
        }) : w = A(m) : w = (r || t) && u ? z(m) : a.ajax(c), h.removeData("jqxhr").data("jqxhr", w);
        for (var x = 0; k.length > x; x++)k[x] = null;
        return this.trigger("form-submit-notify", [this, c]), this
    }, a.fn.ajaxForm = function (b) {
        if (b = b || {}, b.delegation = b.delegation && a.isFunction(a.fn.on), !b.delegation && 0 === this.length) {
            var f = {s:this.selector, c:this.context};
            return!a.isReady && f.s ? (e("DOM not ready, queuing ajaxForm"), a(function () {
                a(f.s, f.c).ajaxForm(b)
            }), this) : (e("terminating; zero elements found by selector" + (a.isReady ? "" : " (DOM not ready)")), this)
        }
        return b.delegation ? (a(document).off("submit.form-plugin", this.selector, c).off("click.form-plugin", this.selector, d).on("submit.form-plugin", this.selector, b, c).on("click.form-plugin", this.selector, b, d), this) : this.ajaxFormUnbind().bind("submit.form-plugin", b, c).bind("click.form-plugin", b, d)
    }, a.fn.ajaxFormUnbind = function () {
        return this.unbind("submit.form-plugin click.form-plugin")
    }, a.fn.formToArray = function (c, d) {
        var e = [];
        if (0 === this.length)return e;
        var f = this[0], g = c ? f.getElementsByTagName("*") : f.elements;
        if (!g)return e;
        var h, i, j, k, l, m, n;
        for (h = 0, m = g.length; m > h; h++)if (l = g[h], j = l.name)if (c && f.clk && "image" == l.type)l.disabled || f.clk != l || (e.push({name:j, value:a(l).val(), type:l.type}), e.push({name:j + ".x", value:f.clk_x}, {name:j + ".y", value:f.clk_y})); else if (k = a.fieldValue(l, !0), k && k.constructor == Array)for (d && d.push(l), i = 0, n = k.length; n > i; i++)e.push({name:j, value:k[i]}); else if (b.fileapi && "file" == l.type && !l.disabled) {
            d && d.push(l);
            var o = l.files;
            if (o.length)for (i = 0; o.length > i; i++)e.push({name:j, value:o[i], type:l.type}); else e.push({name:j, value:"", type:l.type})
        } else null !== k && k !== void 0 && (d && d.push(l), e.push({name:j, value:k, type:l.type, required:l.required}));
        if (!c && f.clk) {
            var p = a(f.clk), q = p[0];
            j = q.name, j && !q.disabled && "image" == q.type && (e.push({name:j, value:p.val()}), e.push({name:j + ".x", value:f.clk_x}, {name:j + ".y", value:f.clk_y}))
        }
        return e
    }, a.fn.formSerialize = function (b) {
        return a.param(this.formToArray(b))
    }, a.fn.fieldSerialize = function (b) {
        var c = [];
        return this.each(function () {
            var d = this.name;
            if (d) {
                var e = a.fieldValue(this, b);
                if (e && e.constructor == Array)for (var f = 0, g = e.length; g > f; f++)c.push({name:d, value:e[f]}); else null !== e && e !== void 0 && c.push({name:this.name, value:e})
            }
        }), a.param(c)
    }, a.fn.fieldValue = function (b) {
        for (var c = [], d = 0, e = this.length; e > d; d++) {
            var f = this[d], g = a.fieldValue(f, b);
            null === g || void 0 === g || g.constructor == Array && !g.length || (g.constructor == Array ? a.merge(c, g) : c.push(g))
        }
        return c
    }, a.fieldValue = function (b, c) {
        var d = b.name, e = b.type, f = b.tagName.toLowerCase();
        if (void 0 === c && (c = !0), c && (!d || b.disabled || "reset" == e || "button" == e || ("checkbox" == e || "radio" == e) && !b.checked || ("submit" == e || "image" == e) && b.form && b.form.clk != b || "select" == f && -1 == b.selectedIndex))return null;
        if ("select" == f) {
            var g = b.selectedIndex;
            if (0 > g)return null;
            for (var h = [], i = b.options, j = "select-one" == e, k = j ? g + 1 : i.length, l = j ? g : 0; k > l; l++) {
                var m = i[l];
                if (m.selected) {
                    var n = m.value;
                    if (n || (n = m.attributes && m.attributes.value && !m.attributes.value.specified ? m.text : m.value), j)return n;
                    h.push(n)
                }
            }
            return h
        }
        return a(b).val()
    }, a.fn.clearForm = function (b) {
        return this.each(function () {
            a("input,select,textarea", this).clearFields(b)
        })
    }, a.fn.clearFields = a.fn.clearInputs = function (b) {
        var c = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;
        return this.each(function () {
            var d = this.type, e = this.tagName.toLowerCase();
            c.test(d) || "textarea" == e ? this.value = "" : "checkbox" == d || "radio" == d ? this.checked = !1 : "select" == e ? this.selectedIndex = -1 : "file" == d ? a.browser.msie ? a(this).replaceWith(a(this).clone()) : a(this).val("") : b && (b === !0 && /hidden/.test(d) || "string" == typeof b && a(this).is(b)) && (this.value = "")
        })
    }, a.fn.resetForm = function () {
        return this.each(function () {
            ("function" == typeof this.reset || "object" == typeof this.reset && !this.reset.nodeType) && this.reset()
        })
    }, a.fn.enable = function (a) {
        return void 0 === a && (a = !0), this.each(function () {
            this.disabled = !a
        })
    }, a.fn.selected = function (b) {
        return void 0 === b && (b = !0), this.each(function () {
            var c = this.type;
            if ("checkbox" == c || "radio" == c)this.checked = b; else if ("option" == this.tagName.toLowerCase()) {
                var d = a(this).parent("select");
                b && d[0] && "select-one" == d[0].type && d.find("option").selected(!1), this.selected = b
            }
        })
    }, a.fn.ajaxSubmit.debug = !1
})(jQuery);
$.fn.clearForm = function () {
    return this.each(function () {
        var a = this.type, b = this.tagName.toLowerCase();
        return"form" == b ? $(":input", this).clearForm() : ("text" == a || "password" == a || "textarea" == b ? this.value = "" : "checkbox" == a || "radio" == a ? this.checked = !1 : "select" == b && (this.selectedIndex = -1), void 0)
    })
};

/* Panzer Audio Player by Liviu Holhos */
(function (a) {
    var b = navigator.userAgent.toLowerCase(), c = b.match(/(iphone|ipod|ipad)/), d = {init:function (b) {
        return this.each(function () {
            function m(b) {
                !a.browser.msie || document.documentMode >= 9 || event.button || (l = !1), b.which !== 1 || l || (b.which = 0)
            }

            function n(a, b) {
                var c = a.offset(), d = b.pageX - c.left, e = 100 * d / (a.width() + 1);
                0 > e && (e = 0), e > 100 && (e = 100), g = a.parents(".panzer").data("panzer"), g.audio.volume = e / 100
            }

            var d = a(this);
            if (d.is("audio")) {
                var e = a.extend({layout:"mini", theme:"dark", expanded:!1, cover:"", pauseothers:!0, showduration:!1, showvolume:!1, volume:100, title:""}, b);
                0 > e.volume && (e.volume = 0), e.volume > 100 && (e.volume = 100);
                var d = a(this), f = d.get(0), g = d.data("panzer");
                if (!g) {
                    var h = "";
                    if (e.layout == "big" && (h = " panzer-big"), h += e.theme == "light" ? " panzer-light" : e.theme == "dark" ? " panzer-dark" : " panzer-custom", e.expanded && (h += " panzer-expand"), e.pauseothers && (h += " pause-others"), this.canPlayType) {
                        if (controls = '<div class="controls"><span class="play"><em></em></span></div><div class="progress-wrapper"><div class="progress"><div class="elapsed" style="width:0;display:none"></div></div></div>', e.showduration) {
                            var i, j;
                            i = Math.floor(f.duration / 60), i = isNaN(i) ? "00" : i >= 10 ? i : "0" + i, j = Math.floor(f.duration % 60), j = isNaN(j) ? "00" : j >= 10 ? j : "0" + j, controls += i > 100 ? '<span class="duration small">' + i + ":" + j + "</span>" : '<span class="duration">' + i + ":" + j + "</span>", h += " show-duration"
                        }
                        e.showvolume && (controls += '<div class="volume-wrapper"><span></span><div class="volume"><div class="set" style="width:' + e.volume + '%"></div></div></div>', h += " show-volume")
                    } else {
                        var k = d.attr("src");
                        k === void 0 && (k = d.children("source:first").attr("src")), k === void 0 ? (controls = '<strong class="alert">Please specify an audio source file.</strong>', h += " panzer-unsupported") : (controls = '<div class="controls"><a class="download" href="' + k + '" title="Download File"><em></em></a></div><strong class="alert">Download Audio File</strong>', h += " panzer-download")
                    }
                    if (album_cover = e.cover != "" ? '<div class="cover"><img src="' + e.cover + '" alt="" /></div>' : d.data("cover") ? '<div class="cover"><img src="' + d.data("cover") + '" alt="" /></div>' : "", song_title = e.title && 0 !== e.title.length ? '<div class="title">' + e.title + "</div>" : d.data("title") ? '<div class="title">' + d.data("title") + "</div>" : "", $player = a('<div class="panzer' + h + '">' + album_cover + '<div class="player">' + controls + "</div>" + song_title + "</div>"), d.after($player).data("panzer", {target:d, audio:f, player:$player, loc:d.prev()}), c ? d.css({position:"absolute", top:-9999, width:0, height:0, display:"none", visibility:"hidden", overflow:"hidden"}) : d.detach(), $player.data("panzer", {audio:f}), this.canPlayType) {
                        if (a(".play", $player).click(function () {
                            a(this).hasClass("play") && a(".panzer.pause-others,.panzerlist.pause-others").each(function () {
                                var b = a(this).data("panzer");
                                b && b.audio.pause();
                                c = a(this).find('a.active').data('panzerlist');
                                c && c.audio.pause();
                            }), g = a(this).parents(".panzer").data("panzer"), g.audio.paused ? g.audio.play() : g.audio.pause()
                        }), f.addEventListener("play", function () {
                            g = a(this).data("panzer"), a(".play", g.player).toggleClass("play pause")
                        }), f.addEventListener("pause", function () {
                            g = a(this).data("panzer"), a(".pause", g.$player).toggleClass("play pause")
                        }), f.addEventListener("ended", function () {
                            g = a(this).data("panzer"), g.audio.pause()
                        }), f.addEventListener("timeupdate", function () {
                            g = a(this).data("panzer");
                            var b = g.audio.currentTime * 100 / g.audio.duration;
                            if (!isNaN(b)) {
                                var c, d, e;
                                c = Math.floor(g.audio.currentTime / 60), d = isNaN(c) ? "00" : c >= 10 ? c : "0" + c, e = Math.floor(g.audio.currentTime % 60), e = isNaN(e) ? "00" : e >= 10 ? e : "0" + e, !isNaN(c) && c > 99 && a("span.duration", g.player).addClass("small"), a("span.duration", g.player).html(d + ":" + e), b == 0 ? a(".elapsed", g.player).hide().css("width", 0) : a(".elapsed", g.player).show().css("width", b + "%")
                            }
                        }), e.showvolume) {
                            f.addEventListener("volumechange", function () {
                                g = a(this).data("panzer");
                                var b = g.audio.volume * 100;
                                b == 0 ? a(".volume .set", g.player).hide().css("width", 0) : a(".volume .set", g.player).show().css("width", b + "%")
                            }), f.volume = e.volume / 100;
                            var l = !1;
                            a(".volume").mousedown(function (b) {
                                b.which === 1 && (l = !0, n(a(this), b))
                            }), a(".volume").mouseup(function (a) {
                                a.which === 1 && (l = !1)
                            }), a(".volume").mousemove(function (b) {
                                m(b), b.which == 1 && b.button == 0 && n(a(this), b)
                            })
                        }
                        a(".progress").click(function (b) {
                            var c = a(this).offset(), d = b.pageX - c.left, e = 100 * d / (a(this).width() + 1);
                            0 > e && (e = 0), e > 100 && (e = 100), g = a(this).parents(".panzer").data("panzer");
                            var f = Math.round(g.audio.duration / 100 * e);
                            g.audio.readyState === 0 ? g.audio.addEventListener("canplay", function () {
                                g = a(this).data("panzer"), g.audio.currentTime = f
                            }) : g.audio.currentTime = f
                        })
                    }
                }
            }
        })
    }, destroy:function () {
        return this.each(function () {
            var b = a(this), d = b.data("panzer");
            d && (c ? b.removeAttr("style") : d.loc && d.loc.after(b), d.player.remove(), b.removeData("panzer").removeAttr("style"))
        })
    }};
    a.fn.panzer = function (b) {
        return d[b] ? d[b].apply(this, Array.prototype.slice.call(arguments, 1)) : typeof b != "object" && b ? (a.error("Method " + b + " does not exist on jQuery.panzer"), void 0) : d.init.apply(this, arguments)
    }
})(jQuery);

/* Panzer HTML5 Audio Playlist by Liviu Holhos */
(function (a) {
    var b = navigator.userAgent.toLowerCase(), c = b.match(/(iphone|ipod|ipad)/), d = {init:function (b) {
        function g() {
            data = a(this).data("panzerlist"), a(".play", data.player).toggleClass("play pause")
        }

        function h() {
            data = a(this).data("panzerlist"), a(".pause", data.$player).toggleClass("play pause")
        }

        function i() {
            if (data = a(this).data("panzerlist"), data.audio.pause(), data.player.hasClass("auto-advance")) {
                if ($active = data.player.find(".list a.active"), $active.is(":last-child")) {
                    if (!data.player.hasClass("repeat-all"))return;
                    $next = data.player.find(".list a:first")
                } else $next = $active.next("a");
                $next.trigger("click")
            }
        }

        function j(b) {
            if (b.preventDefault(), $this = a(this), a(".panzerlist.pause-others .list a.active").not($this).each(function () {
                var b = a(this).data("panzerlist");
                b && (b.audio.paused || b.audio.pause())
            }), data = a(this).parents(".panzerlist").find(".list a.active").data("panzerlist"), $isactive = a(this).hasClass("active"), data.audio.paused || ($isactive || data.audio.pause(), data.audio.currentTime = 0), $isactive)data.audio.play(); else {
                try {
                    data.audio.currentTime = 0
                } catch (c) {
                }
                data = a(this).data("panzerlist"), a(this).parents(".panzerlist").find(".list a").removeClass("active"), a(this).addClass("active"), data.audio.play()
            }
        }

        var d = a.extend({layout:"mini", theme:"custom", expanded:!1, title:"", cover:"", volume:100, show_prev_next:!0, show_list:!1, pause_others:!0, auto_start:!1, auto_advance:!0, repeat_all:!0, outdated_text:"Browser is outdated, but you can still download and listen to the audio files on your computer.", auto_numbering:!1}, b);
        0 > d.volume && (d.volume = 0), d.volume > 100 && (d.volume = 100);
        var e = "";
        "big" == d.layout && (e = " panzerlist-big"), e += " panzerlist-" + d.theme, d.expanded && (e += " panzerlist-expand"), d.show_prev_next || (e += " hide-prev-next"), d.show_list || (e += " hide-list"), d.pause_others && (e += " pause-others"), d.auto_advance && (e += " auto-advance"), d.repeat_all && (e += " repeat-all");
        var f = document.createElement("audio");
        return f.canPlayType ? (controls = '<div class="controls"><span class="play"><em></em></span><div class="prev-next"><span class="prev"></span><span class="next"></span></div></div>', song_title = d.title && 0 !== d.title.length ? '<div class="title">' + d.title + "</div>" : "", "" != d.cover ? (album_cover = '<div class="cover"><img src="' + d.cover + '" alt="" /></div>', d.show_list && (e += " hide-list")) : album_cover = "", $player = a('<div class="panzerlist' + e + '">' + song_title + album_cover + '<div class="list"></div><div class="player">' + controls + "</div></div>"), a(".play", $player).click(function () {
            a(this).hasClass("play") && (a(".panzerlist.pause-others .list a.active").each(function () {
                var b = a(this).data("panzerlist");
                b && (b.audio.paused || b.audio.pause())
            }), a(".panzer.pause-others").each(function () {
                var b = a(this).data("panzer");
                b && b.audio.pause()
            })), data = a(this).parents(".panzerlist").find(".list a.active").data("panzerlist"), data.audio.paused ? data.audio.play() : data.audio.pause()
        }), a(".prev,.next", $player).click(function () {
            if ($active = a(this).parents(".panzerlist").find(".list a.active"), data = $active.data("panzerlist"), a(this).hasClass("prev"))if ($active.is(":first-child")) {
                if (!data.player.hasClass("repeat-all"))return;
                $next = data.player.find(".list a:last")
            } else $next = $active.prev("a"); else if ($active.is(":last-child")) {
                if (!data.player.hasClass("repeat-all"))return;
                $next = data.player.find(".list a:first")
            } else $next = $active.next("a");
            data.audio.pause(), data.audio.currentTime = 0, $next.trigger("click")
        }), $i = 0, this.each(function () {
            var b = a(this), e = b.get(0);
            b.is("audio") && (b.data("panzerlist") || (e.volume = d.volume / 100, e.addEventListener("play", g), e.addEventListener("pause", h), e.addEventListener("ended", i), $i++, $el = a('<a href="' + b.children("source:first").attr("src") + '"' + (1 == $i ? ' class="active"' : "") + ">" + (d.auto_numbering ? $i + ". " : "") + b.attr("title") + "</a>").data("panzerlist", {audio:e, player:$player}).click(j), a(".list", $player).append($el), b.after($player).data("panzerlist", {audio:e, player:$player, elem:$el, loc:b.prev()}), c ? b.css({position:"absolute", top:-9999, width:0, height:0, display:"none", visibility:"hidden", overflow:"hidden"}) : b.detach()))
        }), d.auto_start && a(".list a:first", $player).trigger("click")) : (e = " panzerlist-unsupported", "big" == d.layout && (e += " panzerlist-big"), e += " panzerlist-" + d.theme, d.expanded && (e += " panzerlist-expand"), song_title = d.title && 0 !== d.title.length ? '<div class="title">' + d.title + "</div>" : "", "" != d.cover ? (album_cover = '<div class="cover"><img src="' + d.cover + '" alt="" /></div>', d.show_list && (e += " hide-list")) : album_cover = "", $player = a('<div class="panzerlist' + e + '">' + song_title + album_cover + '<div class="list"></div><div class="player"><strong class="alert">' + d.outdated_text + "</strong></div></div>"), $i = 0, this.each(function () {
            var b = a(this);
            b.is("audio") && (b.data("panzerlist") || ($i++, $el = a('<a href="' + b.children("source:first").attr("src") + '"' + ">" + $i + ". " + b.attr("title") + "</a>").data("panzerlist", {player:$player}), a(".list", $player).append($el), b.after($player).data("panzerlist", {player:$player, elem:$el, loc:b.prev()}).detach()))
        })), this
    }, destroy:function () {
        return this.each(function () {
            var b = a(this), d = b.data("panzerlist");
            d && (c ? b.removeAttr("style") : d.loc && d.loc.after(b), d.player.remove(), b.removeData("panzerlist").removeAttr("style"), d = null)
        })
    }};
    a.fn.panzerlist = function (b) {
        return d[b] ? d[b].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof b && b ? (a.error("Method " + b + " does not exist on jQuery.panzerlist"), void 0) : d.init.apply(this, arguments)
    }
})(jQuery);

/* jquery.nicescroll 2.9.7 */
(function (b) {
    function i() {
        var a = document.getElementsByTagName("script"), b = a[a.length - 1].src.split("?")[0];
        return b.split("/").length > 0 ? b.split("/").slice(0, -1).join("/") + "/" : ""
    }

    function q(a, b, c) {
        for (var d = 0; b.length > d; d++)c(a, b[d])
    }

    var c = !1, d = !1, f = 5e3, g = 2e3, h = b, j = i(), k = function () {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || !1
    }(), l = function () {
        return window.cancelRequestAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || !1
    }(), m = function (a, b) {
        function r() {
            var a = ["-moz-grab", "-webkit-grab", "grab"];
            (e.ischrome || e.isie) && (a = []);
            for (var b = 0; a.length > b; b++) {
                var c = a[b];
                if (m.style.cursor = c, m.style.cursor == c)return c
            }
            return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"
        }

        function t(a, b, c) {
            var d = a.css(b), f = parseFloat(d);
            if (isNaN(f)) {
                f = s[d] || 0;
                var g = f == 3 ? c ? e.win.outerHeight() - e.win.innerHeight() : e.win.outerWidth() - e.win.innerWidth() : 1;
                return e.isie8 && f && (f += 1), g ? f : 0
            }
            return f
        }

        var e = this;
        if (this.version = "2.9.7", this.name = "nicescroll", this.me = b, this.opt = {doc:h("body"), win:!1, zindex:9e3, cursoropacitymin:0, cursoropacitymax:1, cursorcolor:"#424242", cursorwidth:"5px", cursorborder:"1px solid #fff", cursorborderradius:"5px", scrollspeed:60, mousescrollstep:40, touchbehavior:!1, hwacceleration:!0, usetransition:!0, boxzoom:!1, dblclickzoom:!0, gesturezoom:!0, grabcursorenabled:!0, autohidemode:!0, background:"", iframeautoresize:!0, cursorminheight:20, preservenativescrolling:!0, railoffset:!1, bouncescroll:!1, spacebarenabled:!0, railpadding:{top:0, right:0, left:0, bottom:0}, disableoutline:!0}, a)for (var i in e.opt)a[i] !== void 0 && (e.opt[i] = a[i]);
        this.doc = e.opt.doc, this.iddoc = this.doc && this.doc[0] ? this.doc[0].id || "" : "", this.ispage = /BODY|HTML/.test(e.opt.win ? e.opt.win[0].nodeName : this.doc[0].nodeName), this.haswrapper = e.opt.win !== !1, this.win = e.opt.win || (this.ispage ? h(window) : this.doc), this.docscroll = this.ispage && !this.haswrapper ? h(window) : this.win, this.body = h("body"), this.iframe = !1, this.isiframe = this.doc[0].nodeName == "IFRAME" && this.win[0].nodeName == "IFRAME", this.istextarea = this.win[0].nodeName == "TEXTAREA", this.onmousedown = !1, this.onmouseup = !1, this.onmousemove = !1, this.onmousewheel = !1, this.onkeypress = !1, this.ongesturezoom = !1, this.onclick = !1, this.view = !1, this.page = !1, this.observer = !1, this.scroll = {x:0, y:0}, this.scrollratio = {x:0, y:0}, this.cursorheight = 20, this.scrollvaluemax = 0, this.scrollmom = !1;
        do this.id = "ascrail" + g++; while (document.getElementById(this.id));
        this.rail = !1, this.cursor = !1, this.cursorfreezed = !1, this.zoom = !1, this.zoomactive = !1, this.hasfocus = !1, this.hasmousefocus = !1, this.visibility = !0, this.locked = !1, this.hidden = !1, this.nativescrollingarea = !1, this.events = [], this.saved = {}, this.delaylist = {}, this.synclist = {}, this.lastdelta = 0;
        var m = document.createElement("DIV");
        if (this.isopera = "opera"in window, this.isie = "all"in document && "attachEvent"in m && !this.isopera, this.isieold = this.isie && !("msInterpolationMode"in m.style), this.isie7 = !(!this.isie || this.isieold || "documentMode"in document && document.documentMode != 7), this.isie8 = this.isie && "documentMode"in document && document.documentMode == 8, this.isie9 = this.isie && "performance"in window && document.documentMode >= 9, this.isie9mobile = /iemobile.9/i.test(navigator.userAgent), this.isie7mobile = !this.isie9mobile && this.isie7 && /iemobile/i.test(navigator.userAgent), this.ismozilla = "MozAppearance"in m.style, this.ischrome = "chrome"in window, this.cantouch = "ontouchstart"in document.documentElement, this.hasmstouch = window.navigator.msPointerEnabled || !1, this.isios = this.cantouch && /iphone|ipad|ipod/i.test(navigator.platform), this.isios4 = this.isios && !("seal"in Object), e.opt.hwacceleration) {
            this.trstyle = window.opera ? "OTransform" : document.all ? "msTransform" : m.style.webkitTransform !== void 0 ? "webkitTransform" : m.style.MozTransform !== void 0 ? "MozTransform" : !1, this.trstyle && m.style[this.trstyle] === void 0 && (this.trstyle = !1), this.hastransform = this.trstyle != 0, this.hastransform && (m.style[this.trstyle] = "translate3d(1px,2px,3px)", this.hastranslate3d = /translate3d/.test(m.style[this.trstyle])), this.transitionstyle = !1, this.prefixstyle = "", this.transitionend = !1;
            for (var o = ["transition", "webkitTransition", "MozTransition", "OTransition", "msTransition", "KhtmlTransition"], p = ["", "-webkit-", "-moz-", "-o-", "-ms-", "-khtml-"], q = ["transitionend", "webkitTransitionEnd", "transitionend", "oTransitionEnd", "msTransitionEnd", "KhtmlTransitionEnd"], i = 0; o.length > i; i++)if (o[i]in m.style) {
                this.transitionstyle = o[i], this.prefixstyle = p[i], this.transitionend = q[i];
                break
            }
            this.hastransition = this.transitionstyle
        } else this.trstyle = !1, this.hastransform = !1, this.hastranslate3d = !1, this.transitionstyle = !1, this.hastransition = !1, this.transitionend = !1;
        this.cursorgrabvalue = "", e.opt.grabcursorenabled && e.opt.touchbehavior && (this.cursorgrabvalue = r()), m = null, this.ishwscroll = e.hastransform && e.opt.hwacceleration && e.haswrapper, this.delayed = function (a, b, c) {
            var d = e.delaylist[a], f = (new Date).getTime();
            return d && d.tt ? !1 : (d && d.last + c > f && !d.tt ? e.delaylist[a] = {last:f + c, tt:setTimeout(function () {
                e.delaylist[a].tt = 0, b.call()
            }, c)} : d && d.tt || (e.delaylist[a] = {last:f, tt:0}, setTimeout(function () {
                b.call()
            }, 0)), void 0)
        }, this.requestSync = function () {
            e.onsync || (k(function () {
                e.onsync = !1;
                for (name in e.synclist) {
                    var a = e.synclist[name];
                    a && a.call(e), e.synclist[name] = !1
                }
            }), e.onsync = !0)
        }, this.synched = function (a, b) {
            e.synclist[a] = b, e.requestSync()
        }, this.css = function (a, b) {
            for (var c in b)e.saved.css.push([a, c, a.css(c)]), a.css(c, b[c])
        }, this.scrollTop = function (a) {
            return a === void 0 ? e.getScrollTop() : e.setScrollTop(a)
        }, BezierClass = function (a, b, c, d, e, f, g) {
            this.st = a, this.ed = b, this.spd = c, this.p1 = d || 0, this.p2 = e || 1, this.p3 = f || 0, this.p4 = g || 1, this.ts = (new Date).getTime(), this.df = this.ed - this.st
        }, BezierClass.prototype = {B2:function (a) {
            return 3 * a * a * (1 - a)
        }, B3:function (a) {
            return 3 * a * (1 - a) * (1 - a)
        }, B4:function (a) {
            return(1 - a) * (1 - a) * (1 - a)
        }, getNow:function () {
            var a = (new Date).getTime(), b = 1 - (a - this.ts) / this.spd, c = this.B2(b) + this.B3(b) + this.B4(b);
            return 0 > b ? this.ed : this.st + Math.round(this.df * c)
        }, update:function (a, b) {
            return this.st = this.getNow(), this.ed = a, this.spd = b, this.ts = (new Date).getTime(), this.df = this.ed - this.st, this
        }}, this.ishwscroll ? (this.doc.translate = {x:0, y:0}, this.hastranslate3d && this.doc.css(this.prefixstyle + "backface-visibility", "hidden"), this.getScrollTop = function (a) {
            return e.timerscroll && !a ? e.timerscroll.bz.getNow() : e.doc.translate.y
        }, this.notifyScrollEvent = document.createEvent ? function (a) {
            var b = document.createEvent("UIEvents");
            b.initUIEvent("scroll", !1, !0, window, 1), a.dispatchEvent(b)
        } : document.fireEvent ? function (a) {
            var b = document.createEventObject();
            a.fireEvent("onscroll"), b.cancelBubble = !0
        } : function () {
        }, this.setScrollTop = this.hastranslate3d ? function (a, b) {
            e.doc.css(e.trstyle, "translate3d(0px," + a * -1 + "px,0px)"), e.doc.translate.y = a, b || e.notifyScrollEvent(e.win[0])
        } : function (a, b) {
            e.doc.css(e.trstyle, "translate(0px," + a * -1 + "px)"), e.doc.translate.y = a, b || e.notifyScrollEvent(e.win[0])
        }) : (this.getScrollTop = function () {
            return e.docscroll.scrollTop()
        }, this.setScrollTop = function (a) {
            return e.docscroll.scrollTop(a)
        }), this.getTarget = function (a) {
            return a ? a.target ? a.target : a.srcElement ? a.srcElement : !1 : !1
        }, this.hasParent = function (a, b) {
            if (!a)return!1;
            var c = a.target || a.srcElement || a || !1;
            while (c && c.id != b)c = c.parentNode || !1;
            return c !== !1
        };
        var s = {thin:1, medium:3, thick:5};
        this.updateScrollBar = function (a) {
            if (e.ishwscroll)e.rail.css({height:e.win.innerHeight()}); else {
                var b = e.win.offset();
                b.top += t(e.win, "border-top-width", !0), b.left += e.win.outerWidth() - t(e.win, "border-right-width", !1) - e.rail.width;
                var c = e.opt.railoffset;
                c && (c.top && (b.top += c.top), c.left && (b.left += c.left)), e.rail.css({top:b.top, left:b.left, height:a ? a.h : e.win.innerHeight()}), e.zoom && e.zoom.css({top:b.top + 1, left:b.left - 20})
            }
        }, e.hasanimationframe = k, e.hascancelanimationframe = l, e.hasanimationframe ? e.hascancelanimationframe || (l = function () {
            e.cancelAnimationFrame = !0
        }) : (k = function (a) {
            return setTimeout(a, 16)
        }, l = clearInterval), this.init = function () {
            function q() {
                e.iframexd = !1;
                try {
                    var b = "contentDocument"in this ? this.contentDocument : this.contentWindow.document;
                    b.domain
                } catch (a) {
                    e.iframexd = !0, b = !1
                }
                if (e.iframexd)return!0;
                if (e.isiframe && (e.iframe = {html:e.doc.contents().find("html")[0], body:e.doc.contents().find("body")[0]}, e.getContentSize = function () {
                    return{w:Math.max(e.iframe.html.scrollWidth, e.iframe.body.scrollWidth), h:Math.max(e.iframe.html.scrollHeight, e.iframe.body.scrollHeight)}
                }, e.docscroll = h(this.contentWindow)), e.opt.iframeautoresize && !e.isiframe) {
                    e.win.scrollTop(0), e.doc.height("");
                    var d = Math.max(b.getElementsByTagName("html")[0].scrollHeight, b.body.scrollHeight);
                    e.doc.height(d)
                }
                e.resize(), e.isie7 && e.css(h(b).find("html"), {"overflow-y":"hidden"}), e.css(h(b.body), {"overflow-y":"hidden"}), "contentWindow"in this ? e.bind(this.contentWindow, "scroll", e.onscroll) : e.bind(b, "scroll", e.onscroll), e.bind(b, "mouseup", e.onmouseup), e.bind(b, "mousewheel", e.onmousewheel), e.bind(b, e.isopera ? "keypress" : "keydown", e.onkeypress), (e.cantouch || e.opt.touchbehavior) && (e.bind(b, "mousedown", e.onmousedown), e.cursorgrabvalue && e.css(h(b.body), {cursor:e.cursorgrabvalue})), e.bind(b, "mousemove", e.onmousemove), e.zoom && (e.opt.dblclickzoom && e.bind(b, "dblclick", e.doZoom), e.ongesturezoom && e.bind(b, "gestureend", e.ongesturezoom))
            }

            if (e.saved.css = [], e.isie7mobile)return!0;
            if (e.hasmstouch && e.css(e.ispage ? h("html") : e.win, {"-ms-touch-action":"none"}), !e.ispage || !e.cantouch && !e.isieold && !e.isie9mobile) {
                var a = e.docscroll;
                e.ispage && (a = e.haswrapper ? e.win : e.doc), e.isie9mobile || e.css(a, {"overflow-y":"hidden"}), e.ispage && e.isie7 && e.win[0].nodeName == "BODY" && e.css(h("html"), {"overflow-y":"hidden"});
                var b = h(document.createElement("div"));
                b.css({position:"relative", top:0, "float":"right", width:e.opt.cursorwidth, height:"0px", "background-color":e.opt.cursorcolor, border:e.opt.cursorborder, "background-clip":"padding-box", "-webkit-border-radius":e.opt.cursorborderradius, "-moz-border-radius":e.opt.cursorborderradius, "border-radius":e.opt.cursorborderradius}), b.hborder = parseFloat(b.outerHeight() - b.innerHeight()), e.cursor = b;
                var g = h(document.createElement("div"));
                g.attr("id", e.id), g.width = Math.max(parseFloat(e.opt.cursorwidth), b.outerWidth()), g.css({width:g.width + "px", zIndex:e.ispage ? e.opt.zindex : e.opt.zindex + 2, background:e.opt.background});
                var i = ["top", "bottom", "left", "right"];
                for (var k in i) {
                    var l = e.opt.railpadding[k];
                    l && g.css("padding-" + k, l + "px")
                }
                g.append(b), e.rail = g, e.rail.drag = !1;
                var m = !1;
                if (!e.opt.boxzoom || e.ispage || e.isieold || (m = document.createElement("div"), e.bind(m, "click", e.doZoom), e.zoom = h(m), e.zoom.css({cursor:"pointer", "z-index":e.opt.zindex, backgroundImage:"url(" + j + "zoomico.png)", height:18, width:18, backgroundPosition:"0px 0px"}), e.opt.dblclickzoom && e.bind(e.win, "dblclick", e.doZoom), e.cantouch && e.opt.gesturezoom && (e.ongesturezoom = function (a) {
                    return a.scale > 1.5 && e.doZoomIn(a), .8 > a.scale && e.doZoomOut(a), e.cancelEvent(a)
                }, e.bind(e.win, "gestureend", e.ongesturezoom))), e.ispage)g.css({position:"fixed", top:"0px", right:"0px", height:"100%"}), e.body.append(g); else {
                    if (e.ishwscroll) {
                        e.win.css("position") == "static" && e.css(e.win, {position:"relative"});
                        var o = e.win[0].nodeName == "HTML" ? e.body : e.win;
                        e.zoom && (e.zoom.css({position:"absolute", top:1, right:0, "margin-right":g.width + 4}), o.append(e.zoom)), g.css({position:"absolute", top:0, right:0}), o.append(g)
                    } else g.css({position:"absolute"}), e.zoom && e.zoom.css({position:"absolute"}), e.updateScrollBar(), e.body.append(g), e.zoom && e.body.append(e.zoom);
                    e.isios && e.css(e.win, {"-webkit-tap-highlight-color":"rgba(0,0,0,0)", "-webkit-touch-callout":"none"})
                }
                if (e.opt.autohidemode === !1 ? e.autohidedom = !1 : e.opt.autohidemode === !0 ? e.autohidedom = e.rail : e.opt.autohidemode == "cursor" && (e.autohidedom = e.cursor), e.isie9mobile) {
                    e.scrollmom = {y:new n(e)}, e.onmangotouch = function () {
                        var b = e.getScrollTop();
                        if (b == e.scrollmom.y.lastscrolly)return!0;
                        var c = b - e.mangotouch.sy;
                        if (c != 0) {
                            var d = 0 > c ? -1 : 1, f = (new Date).getTime();
                            if (e.mangotouch.lazy && clearTimeout(e.mangotouch.lazy), f - e.mangotouch.tm > 60 || e.mangotouch.dry != d)e.scrollmom.y.stop(), e.scrollmom.y.reset(b), e.mangotouch.sy = b, e.mangotouch.ly = b, e.mangotouch.dry = d, e.mangotouch.tm = f; else {
                                e.scrollmom.y.stop(), e.scrollmom.y.update(e.mangotouch.sy - c);
                                var g = f - e.mangotouch.tm;
                                e.mangotouch.tm = f;
                                var h = Math.abs(e.mangotouch.ly - b);
                                e.mangotouch.ly = b, h > 2 && (e.mangotouch.lazy = setTimeout(function () {
                                    e.mangotouch.lazy = !1, e.mangotouch.dry = 0, e.mangotouch.tm = 0, e.scrollmom.y.doMomentum(g)
                                }, 80))
                            }
                        }
                    };
                    var p = e.getScrollTop();
                    e.mangotouch = {sy:p, ly:p, dry:0, lazy:!1, tm:0}, e.bind(e.docscroll, "scroll", e.onmangotouch)
                } else(e.cantouch || e.opt.touchbehavior || e.hasmstouch) && (e.scrollmom = {y:new n(e)}, e.ontouchstart = function (a) {
                    if (a.pointerType && a.pointerType != 2)return!1;
                    if (!e.locked) {
                        if (e.hasmstouch) {
                            var b = a.target ? a.target : !1;
                            while (b) {
                                var c = h(b).getNiceScroll();
                                if (c.length > 0 && c[0].me == e.me)break;
                                if (c.length > 0)return!1;
                                if (b.nodeName == "DIV" && b.id == e.id)break;
                                b = b.parentNode ? b.parentNode : !1
                            }
                        }
                        if (e.cancelScroll(), e.rail.drag = {x:a.clientX, y:a.clientY, sx:e.scroll.x, sy:e.scroll.y, st:e.getScrollTop(), pt:2}, e.hasmoving = !1, e.lastmouseup = !1, e.scrollmom.y.reset(a.clientY), !e.cantouch && !e.hasmstouch) {
                            var b = e.getTarget(a), d = b ? /INPUT|SELECT|TEXTAREA/i.test(b.nodeName) : !1;
                            if (!d)return e.cancelEvent(a);
                            /SUBMIT|CANCEL|BUTTON/i.test(h(b).attr("type")) && (pc = {tg:b, click:!1}, e.preventclick = pc)
                        }
                    }
                }, e.ontouchend = function (a) {
                    return a.pointerType && a.pointerType != 2 ? !1 : e.rail.drag && e.rail.drag.pt == 2 && (e.scrollmom.y.doMomentum(), e.rail.drag = !1, e.hasmoving && (e.hasmoving = !1, e.lastmouseup = !0, e.hideCursor(), !e.cantouch)) ? e.cancelEvent(a) : void 0
                }, e.ontouchmove = function (a) {
                    if (a.pointerType && a.pointerType != 2)return!1;
                    if (e.rail.drag && e.rail.drag.pt == 2) {
                        if (e.cantouch && a.original === void 0)return!0;
                        e.hasmoving = !0, e.preventclick && !e.preventclick.click && (e.preventclick.click = e.preventclick.tg.onclick || !1, e.preventclick.tg.onclick = e.onpreventclick);
                        var b = a.clientY, c = b - e.rail.drag.y, d = e.rail.drag.st - c;
                        return e.ishwscroll ? 0 > d ? (d = Math.round(d / 2), b = 0) : d > e.page.maxh && (d = e.page.maxh + Math.round((d - e.page.maxh) / 2), b = 0) : (0 > d && (d = 0), d > e.page.maxh && (d = e.page.maxh)), e.synched("touchmove", function () {
                            e.rail.drag && e.rail.drag.pt == 2 && (e.prepareTransition && e.prepareTransition(0), e.setScrollTop(d), e.showCursor(d), e.scrollmom.y.update(b))
                        }), e.cancelEvent(a)
                    }
                }), e.cantouch || e.opt.touchbehavior ? (e.onpreventclick = function (a) {
                    return e.preventclick ? (e.preventclick.tg.onclick = e.preventclick.click, e.preventclick = !1, e.cancelEvent(a)) : void 0
                }, e.onmousedown = e.ontouchstart, e.onmouseup = e.ontouchend, e.onclick = e.isios ? !1 : function (a) {
                    return e.lastmouseup ? (e.lastmouseup = !1, e.cancelEvent(a)) : !0
                }, e.onmousemove = e.ontouchmove, e.cursorgrabvalue && (e.css(e.ispage ? e.doc : e.win, {cursor:e.cursorgrabvalue}), e.css(e.rail, {cursor:e.cursorgrabvalue}))) : (e.onmousedown = function (a) {
                    return e.rail.drag && e.rail.drag.pt != 1 ? void 0 : e.locked ? e.cancelEvent(a) : (e.cancelScroll(), e.rail.drag = {x:a.clientX, y:a.clientY, sx:e.scroll.x, sy:e.scroll.y, pt:1}, e.cancelEvent(a))
                }, e.onmouseup = function (a) {
                    if (e.rail.drag) {
                        if (e.rail.drag.pt != 1)return;
                        return e.rail.drag = !1, e.cancelEvent(a)
                    }
                }, e.onmousemove = function (a) {
                    if (e.rail.drag) {
                        if (e.rail.drag.pt != 1)return;
                        e.scroll.y = e.rail.drag.sy + (a.clientY - e.rail.drag.y), 0 > e.scroll.y && (e.scroll.y = 0);
                        var b = e.scrollvaluemax;
                        return e.scroll.y > b && (e.scroll.y = b), e.synched("mousemove", function () {
                            e.rail.drag && e.rail.drag.pt == 1 && (e.showCursor(), e.cursorfreezed = !0, e.doScroll(Math.round(e.scroll.y * e.scrollratio.y)))
                        }), e.cancelEvent(a)
                    }
                    e.checkarea = !0
                }), (e.cantouch || e.opt.touchbehavior) && e.bind(e.win, "mousedown", e.onmousedown), e.hasmstouch && (e.css(e.rail, {"-ms-touch-action":"none"}), e.css(e.cursor, {"-ms-touch-action":"none"}), e.bind(e.win, "MSPointerDown", e.ontouchstart), e.bind(document, "MSPointerUp", e.ontouchend), e.bind(document, "MSPointerMove", e.ontouchmove), e.bind(e.cursor, "MSGestureHold", function (a) {
                    a.preventDefault()
                }), e.bind(e.cursor, "contextmenu", function (a) {
                    a.preventDefault()
                })), e.bind(e.cursor, "mousedown", e.onmousedown), e.bind(e.cursor, "mouseup", function (a) {
                    return e.rail.drag && e.rail.drag.pt == 2 ? void 0 : (e.rail.drag = !1, e.hasmoving = !1, e.hideCursor(), e.cancelEvent(a))
                }), e.bind(document, "mouseup", e.onmouseup), e.bind(document, "mousemove", e.onmousemove), e.onclick && e.bind(document, "click", e.onclick), e.cantouch || (e.rail.mouseenter(function () {
                    e.showCursor(), e.rail.active = !0
                }), e.rail.mouseleave(function () {
                    e.rail.active = !1, e.rail.drag || e.hideCursor()
                }), e.isiframe || e.bind(e.isie && e.ispage ? document : e.docscroll, "mousewheel", e.onmousewheel), e.bind(e.rail, "mousewheel", e.onmousewheel)), e.zoom && (e.zoom.mouseenter(function () {
                    e.showCursor(), e.rail.active = !0
                }), e.zoom.mouseleave(function () {
                    e.rail.active = !1, e.rail.drag || e.hideCursor()
                })), e.ispage || e.cantouch || /HTML|BODY/.test(e.win[0].nodeName) || (e.win.attr("tabindex") || e.win.attr({tabindex:f++}), e.ischrome && e.opt.disableoutline && e.win.css({outline:"none"}), e.win.focus(function (a) {
                    c = e.getTarget(a).id || !0, e.hasfocus = !0, e.noticeCursor()
                }), e.win.blur(function () {
                    c = !1, e.hasfocus = !1
                }), e.win.mouseenter(function (a) {
                    d = e.getTarget(a).id || !0, e.hasmousefocus = !0, e.noticeCursor()
                }), e.win.mouseleave(function () {
                    d = !1, e.hasmousefocus = !1
                }));
                e.onkeypress = function (a) {
                    if (e.locked && e.page.maxh == 0)return!0;
                    a = a ? a : window.e;
                    var b = e.getTarget(a);
                    if (b && /INPUT|TEXTAREA|SELECT|OPTION/.test(b.nodeName)) {
                        var f = b.getAttribute("type") || b.type || !1;
                        if (!f || !/submit|button|cancel/i.tp)return!0
                    }
                    if (e.hasfocus || e.hasmousefocus && !c || e.ispage && !c && !d) {
                        var g = a.keyCode;
                        if (e.locked && g != 27)return e.cancelEvent(a);
                        var h = !1;
                        switch (g) {
                            case 38:
                            case 63233:
                                e.doScrollBy(72), h = !0;
                                break;
                            case 40:
                            case 63235:
                                e.doScrollBy(-72), h = !0;
                                break;
                            case 33:
                            case 63276:
                                e.doScrollBy(e.view.h), h = !0;
                                break;
                            case 34:
                            case 63277:
                                e.doScrollBy(-e.view.h), h = !0;
                                break;
                            case 36:
                            case 63273:
                                e.doScrollTo(0), h = !0;
                                break;
                            case 35:
                            case 63275:
                                e.doScrollTo(e.page.maxh), h = !0;
                                break;
                            case 32:
                                e.opt.spacebarenabled && (e.doScrollBy(-e.view.h), h = !0);
                                break;
                            case 27:
                                e.zoomactive && (e.doZoom(), h = !0)
                        }
                        if (h)return e.cancelEvent(a)
                    }
                }, e.bind(document, e.isopera ? "keypress" : "keydown", e.onkeypress), e.bind(window, "resize", e.resize), e.bind(window, "orientationchange", e.resize), e.bind(window, "load", e.resize), e.onAttributeChange = function () {
                    e.lazyResize()
                }, e.ispage || e.haswrapper || ("WebKitMutationObserver"in window ? (e.observer = new WebKitMutationObserver(function (a) {
                    a.forEach(e.onAttributeChange)
                }), e.observer.observe(e.win[0], {attributes:!0, subtree:!1})) : (e.bind(e.win, e.isie && !e.isie9 ? "propertychange" : "DOMAttrModified", e.onAttributeChange), e.isie9 && e.win[0].attachEvent("onpropertychange", e.onAttributeChange))), !e.ispage && e.opt.boxzoom && e.bind(window, "resize", e.resizeZoom), e.istextarea && e.bind(e.win, "mouseup", e.resize), e.resize()
            }
            this.doc[0].nodeName == "IFRAME" && (this.doc[0].readyState && this.doc[0].readyState == "complete" && setTimeout(function () {
                q.call(e.doc[0], !1)
            }, 500), e.bind(this.doc, "load", q))
        }, this.showCursor = function (a) {
            e.cursortimeout && (clearTimeout(e.cursortimeout), e.cursortimeout = 0), e.rail && (e.autohidedom && e.autohidedom.stop().css({opacity:e.opt.cursoropacitymax}), a !== void 0 && (e.scroll.y = Math.round(a * 1 / e.scrollratio.y)), e.cursor.css({height:e.cursorheight, top:e.scroll.y}), e.zoom && e.zoom.stop().css({opacity:e.opt.cursoropacitymax}))
        }, this.hideCursor = function (a) {
            e.cursortimeout || e.rail && e.autohidedom && (e.cursortimeout = setTimeout(function () {
                e.rail.active || (e.autohidedom.stop().animate({opacity:e.opt.cursoropacitymin}), e.zoom && e.zoom.stop().animate({opacity:e.opt.cursoropacitymin})), e.cursortimeout = 0
            }, a || 400))
        }, this.noticeCursor = function (a, b) {
            e.showCursor(b), e.hideCursor(a)
        }, this.getContentSize = e.ispage ? function () {
            return{w:Math.max(document.body.scrollWidth, document.documentElement.scrollWidth), h:Math.max(document.body.scrollHeight, document.documentElement.scrollHeight)}
        } : e.haswrapper ? function () {
            return{w:e.doc.outerWidth() + parseInt(e.win.css("paddingLeft")) + parseInt(e.win.css("paddingRight")), h:e.doc.outerHeight() + parseInt(e.win.css("paddingTop")) + parseInt(e.win.css("paddingBottom"))}
        } : function () {
            return{w:e.docscroll[0].scrollWidth, h:e.docscroll[0].scrollHeight}
        }, this.onResize = function (a, b) {
            if (e.rail == 0)return!1;
            if (!e.haswrapper && !e.ispage) {
                if (e.win.css("display") == "none")return e.visibility && e.hideRail(), !1;
                e.visibility || e.getScrollTop() != 0 || e.doScrollTo(Math.floor(e.scroll.y * e.scrollratio.y)), e.hidden || e.visibility || e.showRail()
            }
            var c = e.page.maxh, d = e.page.maxw, f = {h:e.view.h, w:e.view.w};
            if (e.view = {w:e.ispage ? e.win.width() : parseInt(e.win[0].clientWidth), h:e.ispage ? e.win.height() : parseInt(e.win[0].clientHeight)}, e.page = b ? b : e.getContentSize(), e.page.maxh = Math.max(0, e.page.h - e.view.h), e.page.maxw = Math.max(0, e.page.w - e.view.w), e.page.maxh == c && e.page.maxw == d && e.view.w == f.w) {
                if (e.ispage)return e;
                var g = e.win.offset();
                if (e.lastposition) {
                    var h = e.lastposition;
                    if (h.top == g.top && h.left == g.left)return e
                }
                e.lastposition = g
            }
            if (e.page.maxh == 0)return e.hideRail(), e.scrollvaluemax = 0, e.scroll.y = 0, e.scrollratio = {x:0, y:0}, e.cursorheight = 0, e.locked = !0, e.setScrollTop(0), !1;
            e.hidden || e.visibility || (e.showRail(), e.locked = !1), e.istextarea && e.win.css("resize") && e.win.css("resize") != "none" && (e.view.h -= 20), e.ispage || e.updateScrollBar(e.view), e.cursorheight = Math.min(e.view.h, Math.round(e.view.h * (e.view.h / e.page.h))), e.cursorheight = Math.max(e.opt.cursorminheight, e.cursorheight), e.scrollvaluemax = e.view.h - e.cursorheight - e.cursor.hborder, e.scrollratio = {x:0, y:e.page.maxh / e.scrollvaluemax};
            var i = e.getScrollTop();
            return i > e.page.maxh ? e.doScroll(e.page.maxh) : (e.scroll.y = Math.round(e.getScrollTop() * (1 / e.scrollratio.y)), e.noticeCursor()), e
        }, this.resize = this.onResize, this.lazyResize = function () {
            e.delayed("resize", e.resize, 250)
        }, this._bind = function (a, b, c, d) {
            e.events.push({e:a, n:b, f:c}), a.addEventListener ? a.addEventListener(b, c, d || !1) : a.attachEvent ? a.attachEvent("on" + b, c) : a["on" + b] = c
        }, this.bind = function (a, b, c, d) {
            var f = "jquery"in a ? a[0] : a;
            if (f.addEventListener) {
                if (e.cantouch && /mouseup|mousedown|mousemove/.test(b)) {
                    var g = b == "mousedown" ? "touchstart" : b == "mouseup" ? "touchend" : "touchmove";
                    e._bind(f, g, function (a) {
                        if (a.touches) {
                            if (2 > a.touches.length) {
                                var b = a.touches.length ? a.touches[0] : a;
                                b.original = a, c.call(this, b)
                            }
                        } else if (a.changedTouches) {
                            var b = a.changedTouches[0];
                            b.original = a, c.call(this, b)
                        }
                    }, d || !1)
                }
                e._bind(f, b, c, d || !1), b == "mousewheel" && e._bind(f, "DOMMouseScroll", c, d || !1), e.cantouch && b == "mouseup" && e._bind(f, "touchcancel", c, d || !1)
            } else e._bind(f, b, function (a) {
                return a = a || window.event || !1, a && a.srcElement && (a.target = a.srcElement), c.call(f, a) === !1 || d === !1 ? e.cancelEvent(a) : !0
            })
        }, this._unbind = function (a, b, c) {
            a.removeEventListener ? a.removeEventListener(b, c, !1) : a.detachEvent ? a.detachEvent("on" + b, c) : a["on" + b] = !1
        }, this.unbindAll = function () {
            for (var a = 0; e.events.length > a; a++) {
                var b = e.events[a];
                e._unbind(b.e, b.n, b.f)
            }
        }, this.cancelEvent = function (a) {
            var a = a.original ? a.original : a ? a : window.event || !1;
            return a ? (a.preventDefault && a.preventDefault(), a.stopPropagation && a.stopPropagation(), a.preventManipulation && a.preventManipulation(), a.cancelBubble = !0, a.cancel = !0, a.returnValue = !1, !1) : !1
        }, this.showRail = function () {
            return e.page.maxh == 0 || !e.ispage && e.win.css("display") == "none" || (e.visibility = !0, e.rail.css("display", "block")), e
        }, this.hideRail = function () {
            return e.visibility = !1, e.rail.css("display", "none"), e
        }, this.show = function () {
            return e.hidden = !1, e.locked = !1, e.showRail()
        }, this.hide = function () {
            return e.hidden = !0, e.locked = !0, e.hideRail()
        }, this.remove = function () {
            e.doZoomOut(), e.unbindAll(), e.observer !== !1 && e.observer.disconnect(), e.events = [], e.rail.remove(), e.zoom && e.zoom.remove(), e.cursor = !1, e.rail = !1, e.zoom = !1;
            for (var a = 0; e.saved.css.length > a; a++) {
                var b = e.saved.css[a];
                b[0].css(b[1], b[2] === void 0 ? "" : b[2])
            }
            return e.saved = !1, e.me.data("__nicescroll", ""), e
        }, this.isScrollable = function (a) {
            var b = a.target ? a.target : a;
            while (b && b.nodeName && !/BODY|HTML/.test(b.nodeName)) {
                var c = h(b), d = c.css("overflowY") || c.css("overflow") || "";
                if (/scroll|auto/.test(d))return b.clientHeight != b.scrollHeight;
                b = b.parentNode ? b.parentNode : !1
            }
            return!1
        }, this.onmousewheel = function (a) {
            if (e.locked && e.page.maxh == 0)return!0;
            if (e.opt.preservenativescrolling && e.checkarea && (e.checkarea = !1, e.nativescrollingarea = e.isScrollable(a)), e.nativescrollingarea)return!0;
            if (e.locked)return e.cancelEvent(a);
            if (e.rail.drag)return e.cancelEvent(a);
            var b = 0, b = a.detail ? a.detail * -1 : a.wheelDelta / 40;
            return b && (e.scrollmom && e.scrollmom.y.stop(), e.lastdelta += b * e.opt.mousescrollstep, e.synched("mousewheel", function () {
                if (!e.rail.drag) {
                    var a = e.lastdelta;
                    e.lastdelta = 0, e.doScrollBy(a)
                }
            })), e.cancelEvent(a)
        }, this.stop = function () {
            return e.cancelScroll(), e.scrollmon && e.scrollmon.stop(), e.cursorfreezed = !1, e.scroll.y = Math.round(e.getScrollTop() * (1 / e.scrollratio.y)), e.noticeCursor(), e
        }, e.ishwscroll && e.hastransition && e.opt.usetransition ? (this.prepareTransition = function (a) {
            var c = Math.round(e.opt.scrollspeed * 10), d = Math.min(c, Math.round(a / 20 * e.opt.scrollspeed)), f = d > 20 ? e.prefixstyle + "transform " + d + "ms ease-out 0s" : "";
            return e.lasttransitionstyle && e.lasttransitionstyle == f || (e.lasttransitionstyle = f, e.doc.css(e.transitionstyle, f)), d
        }, this.doScroll = function (a, b) {
            var c = e.getScrollTop();
            return 0 > a && 0 >= c ? e.noticeCursor() : a > e.page.maxh && c >= e.page.maxh ? (e.checkContentSize(), e.noticeCursor()) : (e.newscrolly = a, e.newscrollspeed = b || !1, e.timer ? !1 : (e.scrollendtrapped || (e.scrollendtrapped = !0, e.bind(e.doc, e.transitionend, e.onScrollEnd, !1)), e.timer = setTimeout(function () {
                var a = e.getScrollTop(), b = e.newscrollspeed ? e.newscrollspeed : Math.abs(a - e.newscrolly), c = e.prepareTransition(b);
                e.timer = setTimeout(function () {
                    if (0 > e.newscrolly && !e.opt.bouncescroll ? e.newscrolly = 0 : e.newscrolly > e.page.maxh && !e.opt.bouncescroll && (e.newscrolly = e.page.maxh), e.newscrolly == e.getScrollTop())e.timer = 0, e.onScrollEnd(); else {
                        var a = e.getScrollTop();
                        e.timerscroll && e.timerscroll.tm && clearInterval(e.timerscroll.tm), c > 0 && (e.timerscroll = {ts:(new Date).getTime(), s:e.getScrollTop(), e:e.newscrolly, sp:c, bz:new BezierClass(a, e.newscrolly, c, 0, 1, 0, 1)}, e.cursorfreezed || (e.timerscroll.tm = setInterval(function () {
                            e.showCursor(e.getScrollTop())
                        }, 60))), e.setScrollTop(e.newscrolly), e.timer = 0
                    }
                }, 15)
            }, e.opt.scrollspeed), void 0))
        }, this.cancelScroll = function () {
            if (!e.scrollendtrapped)return!0;
            var a = e.getScrollTop();
            return e.scrollendtrapped = !1, e._unbind(e.doc, e.transitionend, e.onScrollEnd), e.prepareTransition(0), e.setScrollTop(a), e.timerscroll && e.timerscroll.tm && clearInterval(e.timerscroll.tm), e.timerscroll = !1, e.cursorfreezed = !1, e.noticeCursor(!1, a), e
        }, this.onScrollEnd = function () {
            e.scrollendtrapped = !1, e._unbind(e.doc, e.transitionend, e.onScrollEnd), e.timerscroll && e.timerscroll.tm && clearInterval(e.timerscroll.tm), e.timerscroll = !1, e.cursorfreezed = !1;
            var a = e.getScrollTop();
            e.setScrollTop(a), e.noticeCursor(!1, a), 0 > a ? e.doScroll(0, 60) : a > e.page.maxh && e.doScroll(e.page.maxh, 60)
        }) : (this.doScroll = function (a) {
            function g() {
                if (e.cancelAnimationFrame)return!0;
                if (f = 1 - f)return e.timer = k(g) || 1;
                var a = e.getScrollTop(), b = e.bzscroll ? e.bzscroll.getNow() : e.newscrolly, c = b - a;
                (0 > c && e.newscrolly > b || c > 0 && b > e.newscrolly) && (b = e.newscrolly), e.setScrollTop(b), b == e.newscrolly ? (e.timer = 0, e.cursorfreezed = !1, e.bzscroll = !1, 0 > b ? e.doScroll(0) : b > e.page.maxh && e.doScroll(e.page.maxh)) : e.timer = k(g) || 1
            }

            if (e.newscrolly == a)return!0;
            var b = e.getScrollTop();
            e.newscrolly = a, e.bouncescroll || (0 > e.newscrolly ? (e.newspeedy && (e.newspeedy.x = 0), e.newscrolly = 0) : e.newscrolly > e.page.maxh && (e.newspeedy && (e.newspeedy.x = e.page.maxh), e.newscrolly = e.page.maxh));
            var c = Math.floor(Math.abs(a - b) / 40);
            if (c > 0) {
                var d = Math.min(10, c) * 100;
                e.bzscroll = e.bzscroll ? e.bzscroll.update(a, d) : new BezierClass(b, a, d, 0, 1, 0, 1)
            } else e.bzscroll = !1;
            if (!e.timer) {
                b == e.page.maxh && a >= e.page.maxh && e.checkContentSize();
                var f = 1;
                e.cancelAnimationFrame = !1, e.timer = 1, g(), b == e.page.maxh && a >= b && e.checkContentSize(), e.noticeCursor()
            }
        }, this.cancelScroll = function () {
            return e.timer && l(e.timer), e.timer = 0, e.bzscroll = !1, e
        }), this.doScrollBy = function (a, b) {
            var c = 0;
            if (b)c = Math.floor((e.scroll.y - a) * e.scrollratio.y); else {
                var d = e.timer ? e.newscrolly : e.getScrollTop(!0);
                c = d - a
            }
            if (e.bouncescroll) {
                var f = Math.round(e.view.h / 2);
                -f > c ? c = -f : c > e.page.maxh + f && (c = e.page.maxh + f)
            }
            e.cursorfreezed = !1, e.doScroll(c)
        }, this.doScrollTo = function (a, b) {
            var c = b ? Math.round(a * e.scrollratio.y) : a;
            0 > c ? c = 0 : c > e.page.maxh && (c = e.page.maxh), e.cursorfreezed = !1, e.doScroll(a)
        }, this.checkContentSize = function () {
            var a = e.getContentSize();
            a.h != e.page.h && e.resize(!1, a)
        }, e.onscroll = function () {
            e.rail.drag || e.cursorfreezed || e.synched("scroll", function () {
                e.scroll.y = Math.round(e.getScrollTop() * (1 / e.scrollratio.y)), e.noticeCursor()
            })
        }, e.bind(e.docscroll, "scroll", e.onscroll), this.doZoomIn = function (a) {
            if (!e.zoomactive) {
                e.zoomactive = !0, e.zoomrestore = {style:{}};
                var b = ["position", "top", "left", "zIndex", "backgroundColor", "marginTop", "marginBottom", "marginLeft", "marginRight"], c = e.win[0].style;
                for (var d in b) {
                    var f = b[d];
                    e.zoomrestore.style[f] = c[f] !== void 0 ? c[f] : ""
                }
                e.zoomrestore.style.width = e.win.css("width"), e.zoomrestore.style.height = e.win.css("height"), e.zoomrestore.padding = {w:e.win.outerWidth() - e.win.width(), h:e.win.outerHeight() - e.win.height()}, e.isios4 && (e.zoomrestore.scrollTop = h(window).scrollTop(), h(window).scrollTop(0)), e.win.css({position:e.isios4 ? "absolute" : "fixed", top:0, left:0, "z-index":e.opt.zindex + 100, margin:"0px"});
                var g = e.win.css("backgroundColor");
                return(g == "" || /transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(g)) && e.win.css("backgroundColor", "#fff"), e.rail.css({"z-index":e.opt.zindex + 110}), e.zoom.css({"z-index":e.opt.zindex + 112}), e.zoom.css("backgroundPosition", "0px -18px"), e.resizeZoom(), e.cancelEvent(a)
            }
        }, this.doZoomOut = function (a) {
            return e.zoomactive ? (e.zoomactive = !1, e.win.css("margin", ""), e.win.css(e.zoomrestore.style), e.isios4 && h(window).scrollTop(e.zoomrestore.scrollTop), e.rail.css({"z-index":e.ispage ? e.opt.zindex : e.opt.zindex + 2}), e.zoom.css({"z-index":e.opt.zindex}), e.zoomrestore = !1, e.zoom.css("backgroundPosition", "0px 0px"), e.onResize(), e.cancelEvent(a)) : void 0
        }, this.doZoom = function (a) {
            return e.zoomactive ? e.doZoomOut(a) : e.doZoomIn(a)
        }, this.resizeZoom = function () {
            if (e.zoomactive) {
                var a = e.getScrollTop();
                e.win.css({width:h(window).width() - e.zoomrestore.padding.w + "px", height:h(window).height() - e.zoomrestore.padding.h + "px"}), e.onResize(), e.setScrollTop(Math.min(e.page.maxh, a))
            }
        }, this.init(), h.nicescroll.push(this)
    }, n = function (a) {
        var b = this;
        this.nc = a, this.lasty = 0, this.speedy = 0, this.lasttime = 0, this.snapy = !1, this.demuly = 0, this.lastscrolly = -1, this.chky = 0, this.timer = 0, this.time = function () {
            return(new Date).getTime()
        }, this.reset = function (a) {
            b.stop(), b.lasttime = b.time(), b.speedy = 0, b.lasty = a, b.lastscrolly = -1
        }, this.update = function (c) {
            b.lasttime = b.time();
            var d = c - b.lasty, e = a.getScrollTop(), f = e + d;
            b.snapy = 0 > f || f > b.nc.page.maxh, b.speedy = d, b.lasty = c
        }, this.stop = function () {
            b.timer && (clearTimeout(b.timer), b.timer = 0, b.lastscrolly = -1)
        }, this.doSnapy = function (a) {
            0 > a ? b.nc.doScroll(0, 60) : a > b.nc.page.maxh && b.nc.doScroll(b.nc.page.maxh, 60)
        }, this.doMomentum = function (a) {
            var c = b.time(), d = a ? c + a : b.lasttime;
            b.speedy = Math.min(60, b.speedy);
            var e = d && 50 >= c - d, f = b.speedy && e ? b.speedy : !1;
            if (f) {
                var a = c - d, g = b.nc.page.maxh;
                b.demuly = 0, b.lastscrolly = b.nc.getScrollTop(), b.chky = b.lastscrolly;
                var h = function () {
                    var c = Math.floor(b.lastscrolly - b.speedy * (1 - b.demuly));
                    b.demuly += 0 > c || c > g ? .08 : .01, b.lastscrolly = c, b.nc.synched("domomentum", function () {
                        var a = b.nc.getScrollTop();
                        a != b.chky && b.stop(), b.chky = c, b.nc.setScrollTop(c), b.timer ? b.nc.showCursor(c) : (b.nc.hideCursor(), b.doSnapy(c))
                    }), b.timer = 1 > b.demuly ? setTimeout(h, a) : 0
                };
                h()
            } else b.snapy && b.doSnapy(b.nc.getScrollTop())
        }
    }, o = b.fn.scrollTop;
    h.cssHooks.scrollTop = {get:function (a) {
        var d = h.data(a, "__nicescroll") || !1;
        return d && d.ishwscroll ? d.getScrollTop() : o.call(a)
    }, set:function (a, b) {
        var c = h.data(a, "__nicescroll") || !1;
        return c && c.ishwscroll ? c.setScrollTop(parseInt(b)) : o.call(a, b), this
    }}, b.fn.scrollTop = function (a) {
        if (a === void 0) {
            var b = this[0] ? h.data(this[0], "__nicescroll") || !1 : !1;
            return b && b.ishwscroll ? b.getScrollTop() : o.call(this)
        }
        return this.each(function () {
            var b = h.data(this, "__nicescroll") || !1;
            b && b.ishwscroll ? b.setScrollTop(parseInt(a)) : o.call(h(this), a)
        })
    };
    var p = function (b) {
        var c = this;
        if (this.length = 0, this.name = "nicescrollarray", this.each = function (a) {
            for (var b = 0; c.length > b; b++)a.call(c[b]);
            return c
        }, this.push = function (a) {
            c[c.length] = a, c.length++
        }, this.eq = function (a) {
            return c[a]
        }, b)for (a = 0; b.length > a; a++) {
            var d = h.data(b[a], "__nicescroll") || !1;
            d && (this[this.length] = d, this.length++)
        }
        return this
    };
    q(p.prototype, ["show", "hide", "onResize", "resize", "remove", "stop"], function (a, b) {
        a[b] = function () {
            return this.each(function () {
                this[b].call()
            })
        }
    }), b.fn.getNiceScroll = function (a) {
        if (a === void 0)return new p(this);
        var b = h.data(this[a], "__nicescroll") || !1;
        return b
    }, b.extend(b.expr[":"], {nicescroll:function (a) {
        return h.data(a, "__nicescroll") ? !0 : !1
    }}), h.fn.niceScroll = function (a, b) {
        b === void 0 && (typeof a != "object" || "jquery"in a || (b = a, a = !1));
        var c = new p;
        b === void 0 && (b = {}), a && (b.doc = h(a), b.win = h(this));
        var d = !("doc"in b);
        return d || "win"in b || (b.win = h(this)), this.each(function () {
            var a = h(this).data("__nicescroll") || !1;
            a || (b.doc = d ? h(this) : b.doc, a = new m(b, h(this)), h(this).data("__nicescroll", a)), c.push(a)
        }), c.length == 1 ? c[0] : c
    }, window.NiceScroll = {getjQuery:function () {
        return b
    }}, h.nicescroll || (h.nicescroll = new p)
})(jQuery);

/* easing effects */
jQuery.easing.jswing = jQuery.easing.swing;
jQuery.extend(jQuery.easing, {def:"easeOutQuad", swing:function (e, f, a, h, g) {
    return jQuery.easing[jQuery.easing.def](e, f, a, h, g)
}, easeInQuad:function (e, f, a, h, g) {
    return h * (f /= g) * f + a
}, easeOutQuad:function (e, f, a, h, g) {
    return -h * (f /= g) * (f - 2) + a
}, easeInOutQuad:function (e, f, a, h, g) {
    if ((f /= g / 2) < 1) {
        return h / 2 * f * f + a
    }
    return -h / 2 * ((--f) * (f - 2) - 1) + a
}, easeInCubic:function (e, f, a, h, g) {
    return h * (f /= g) * f * f + a
}, easeOutCubic:function (e, f, a, h, g) {
    return h * ((f = f / g - 1) * f * f + 1) + a
}, easeInOutCubic:function (e, f, a, h, g) {
    if ((f /= g / 2) < 1) {
        return h / 2 * f * f * f + a
    }
    return h / 2 * ((f -= 2) * f * f + 2) + a
}, easeInQuart:function (e, f, a, h, g) {
    return h * (f /= g) * f * f * f + a
}, easeOutQuart:function (e, f, a, h, g) {
    return -h * ((f = f / g - 1) * f * f * f - 1) + a
}, easeInOutQuart:function (e, f, a, h, g) {
    if ((f /= g / 2) < 1) {
        return h / 2 * f * f * f * f + a
    }
    return -h / 2 * ((f -= 2) * f * f * f - 2) + a
}, easeInQuint:function (e, f, a, h, g) {
    return h * (f /= g) * f * f * f * f + a
}, easeOutQuint:function (e, f, a, h, g) {
    return h * ((f = f / g - 1) * f * f * f * f + 1) + a
}, easeInOutQuint:function (e, f, a, h, g) {
    if ((f /= g / 2) < 1) {
        return h / 2 * f * f * f * f * f + a
    }
    return h / 2 * ((f -= 2) * f * f * f * f + 2) + a
}, easeInSine:function (e, f, a, h, g) {
    return -h * Math.cos(f / g * (Math.PI / 2)) + h + a
}, easeOutSine:function (e, f, a, h, g) {
    return h * Math.sin(f / g * (Math.PI / 2)) + a
}, easeInOutSine:function (e, f, a, h, g) {
    return -h / 2 * (Math.cos(Math.PI * f / g) - 1) + a
}, easeInExpo:function (e, f, a, h, g) {
    return(f == 0) ? a : h * Math.pow(2, 10 * (f / g - 1)) + a
}, easeOutExpo:function (e, f, a, h, g) {
    return(f == g) ? a + h : h * (-Math.pow(2, -10 * f / g) + 1) + a
}, easeInOutExpo:function (e, f, a, h, g) {
    if (f == 0) {
        return a
    }
    if (f == g) {
        return a + h
    }
    if ((f /= g / 2) < 1) {
        return h / 2 * Math.pow(2, 10 * (f - 1)) + a
    }
    return h / 2 * (-Math.pow(2, -10 * --f) + 2) + a
}, easeInCirc:function (e, f, a, h, g) {
    return -h * (Math.sqrt(1 - (f /= g) * f) - 1) + a
}, easeOutCirc:function (e, f, a, h, g) {
    return h * Math.sqrt(1 - (f = f / g - 1) * f) + a
}, easeInOutCirc:function (e, f, a, h, g) {
    if ((f /= g / 2) < 1) {
        return -h / 2 * (Math.sqrt(1 - f * f) - 1) + a
    }
    return h / 2 * (Math.sqrt(1 - (f -= 2) * f) + 1) + a
}, easeInElastic:function (f, h, e, l, k) {
    var i = 1.70158;
    var j = 0;
    var g = l;
    if (h == 0) {
        return e
    }
    if ((h /= k) == 1) {
        return e + l
    }
    if (!j) {
        j = k * 0.3
    }
    if (g < Math.abs(l)) {
        g = l;
        var i = j / 4
    } else {
        var i = j / (2 * Math.PI) * Math.asin(l / g)
    }
    return -(g * Math.pow(2, 10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j)) + e
}, easeOutElastic:function (f, h, e, l, k) {
    var i = 1.70158;
    var j = 0;
    var g = l;
    if (h == 0) {
        return e
    }
    if ((h /= k) == 1) {
        return e + l
    }
    if (!j) {
        j = k * 0.3
    }
    if (g < Math.abs(l)) {
        g = l;
        var i = j / 4
    } else {
        var i = j / (2 * Math.PI) * Math.asin(l / g)
    }
    return g * Math.pow(2, -10 * h) * Math.sin((h * k - i) * (2 * Math.PI) / j) + l + e
}, easeInOutElastic:function (f, h, e, l, k) {
    var i = 1.70158;
    var j = 0;
    var g = l;
    if (h == 0) {
        return e
    }
    if ((h /= k / 2) == 2) {
        return e + l
    }
    if (!j) {
        j = k * (0.3 * 1.5)
    }
    if (g < Math.abs(l)) {
        g = l;
        var i = j / 4
    } else {
        var i = j / (2 * Math.PI) * Math.asin(l / g)
    }
    if (h < 1) {
        return -0.5 * (g * Math.pow(2, 10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j)) + e
    }
    return g * Math.pow(2, -10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j) * 0.5 + l + e
}, easeInBack:function (e, f, a, i, h, g) {
    if (g == undefined) {
        g = 1.70158
    }
    return i * (f /= h) * f * ((g + 1) * f - g) + a
}, easeOutBack:function (e, f, a, i, h, g) {
    if (g == undefined) {
        g = 1.70158
    }
    return i * ((f = f / h - 1) * f * ((g + 1) * f + g) + 1) + a
}, easeInOutBack:function (e, f, a, i, h, g) {
    if (g == undefined) {
        g = 1.70158
    }
    if ((f /= h / 2) < 1) {
        return i / 2 * (f * f * (((g *= (1.525)) + 1) * f - g)) + a
    }
    return i / 2 * ((f -= 2) * f * (((g *= (1.525)) + 1) * f + g) + 2) + a
}, easeInBounce:function (e, f, a, h, g) {
    return h - jQuery.easing.easeOutBounce(e, g - f, 0, h, g) + a
}, easeOutBounce:function (e, f, a, h, g) {
    if ((f /= g) < (1 / 2.75)) {
        return h * (7.5625 * f * f) + a
    } else {
        if (f < (2 / 2.75)) {
            return h * (7.5625 * (f -= (1.5 / 2.75)) * f + 0.75) + a
        } else {
            if (f < (2.5 / 2.75)) {
                return h * (7.5625 * (f -= (2.25 / 2.75)) * f + 0.9375) + a
            } else {
                return h * (7.5625 * (f -= (2.625 / 2.75)) * f + 0.984375) + a
            }
        }
    }
}, easeInOutBounce:function (e, f, a, h, g) {
    if (f < g / 2) {
        return jQuery.easing.easeInBounce(e, f * 2, 0, h, g) * 0.5 + a
    }
    return jQuery.easing.easeOutBounce(e, f * 2 - g, 0, h, g) * 0.5 + h * 0.5 + a
}});

/* jQuery FlexSlider v2.1 */
(function (d) {
    d.flexslider = function (i, k) {
        var a = d(i), c = d.extend({}, d.flexslider.defaults, k), e = c.namespace, p = "ontouchstart"in window || window.DocumentTouch && document instanceof DocumentTouch, t = p ? "touchend" : "click", l = "vertical" === c.direction, m = c.reverse, h = 0 < c.itemWidth, r = "fade" === c.animation, s = "" !== c.asNavFor, f = {};
        d.data(i, "flexslider", a);
        f = {init:function () {
            a.animating = !1;
            a.currentSlide = c.startAt;
            a.animatingTo = a.currentSlide;
            a.atEnd = 0 === a.currentSlide || a.currentSlide === a.last;
            a.containerSelector = c.selector.substr(0, c.selector.search(" "));
            a.slides = d(c.selector, a);
            a.container = d(a.containerSelector, a);
            a.count = a.slides.length;
            a.syncExists = 0 < d(c.sync).length;
            "slide" === c.animation && (c.animation = "swing");
            a.prop = l ? "top" : "marginLeft";
            a.args = {};
            a.manualPause = !1;
            var b = a, g;
            if (g = !c.video)if (g = !r)if (g = c.useCSS)a:{
                g = document.createElement("div");
                var n = ["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"], e;
                for (e in n)if (void 0 !== g.style[n[e]]) {
                    a.pfx = n[e].replace("Perspective", "").toLowerCase();
                    a.prop = "-" + a.pfx + "-transform";
                    g = !0;
                    break a
                }
                g = !1
            }
            b.transitions = g;
            "" !== c.controlsContainer && (a.controlsContainer = 0 < d(c.controlsContainer).length && d(c.controlsContainer));
            "" !== c.manualControls && (a.manualControls = 0 < d(c.manualControls).length && d(c.manualControls));
            c.randomize && (a.slides.sort(function () {
                return Math.round(Math.random()) - 0.5
            }), a.container.empty().append(a.slides));
            a.doMath();
            s && f.asNav.setup();
            a.setup("init");
            c.controlNav && f.controlNav.setup();
            c.directionNav && f.directionNav.setup();
            c.keyboard && (1 === d(a.containerSelector).length || c.multipleKeyboard) && d(document).bind("keyup", function (b) {
                b = b.keyCode;
                if (!a.animating && (39 === b || 37 === b))b = 39 === b ? a.getTarget("next") : 37 === b ? a.getTarget("prev") : !1, a.flexAnimate(b, c.pauseOnAction)
            });
            c.mousewheel && a.bind("mousewheel", function (b, g) {
                b.preventDefault();
                var d = 0 > g ? a.getTarget("next") : a.getTarget("prev");
                a.flexAnimate(d, c.pauseOnAction)
            });
            c.pausePlay && f.pausePlay.setup();
            c.slideshow && (c.pauseOnHover && a.hover(function () {
                !a.manualPlay && !a.manualPause && a.pause()
            }, function () {
                !a.manualPause && !a.manualPlay && a.play()
            }), 0 < c.initDelay ? setTimeout(a.play, c.initDelay) : a.play());
            p && c.touch && f.touch();
            (!r || r && c.smoothHeight) && d(window).bind("resize focus", f.resize);
            setTimeout(function () {
                c.start(a)
            }, 200)
        }, asNav:{setup:function () {
            a.asNav = !0;
            a.animatingTo = Math.floor(a.currentSlide / a.move);
            a.currentItem = a.currentSlide;
            a.slides.removeClass(e + "active-slide").eq(a.currentItem).addClass(e + "active-slide");
            a.slides.click(function (b) {
                b.preventDefault();
                var b = d(this), g = b.index();
                !d(c.asNavFor).data("flexslider").animating && !b.hasClass("active") && (a.direction = a.currentItem < g ? "next" : "prev", a.flexAnimate(g, c.pauseOnAction, !1, !0, !0))
            })
        }}, controlNav:{setup:function () {
            a.manualControls ? f.controlNav.setupManual() : f.controlNav.setupPaging()
        }, setupPaging:function () {
            var b = 1, g;
            a.controlNavScaffold = d('<ol class="' + e + "control-nav " + e + ("thumbnails" === c.controlNav ? "control-thumbs" : "control-paging") + '"></ol>');
            if (1 < a.pagingCount)for (var n = 0; n < a.pagingCount; n++)g = "thumbnails" === c.controlNav ? '<img src="' + a.slides.eq(n).attr("data-thumb") + '"/>' : "<a>" + b + "</a>", a.controlNavScaffold.append("<li>" + g + "</li>"), b++;
            a.controlsContainer ? d(a.controlsContainer).append(a.controlNavScaffold) : a.append(a.controlNavScaffold);
            f.controlNav.set();
            f.controlNav.active();
            a.controlNavScaffold.delegate("a, img", t, function (b) {
                b.preventDefault();
                var b = d(this), g = a.controlNav.index(b);
                b.hasClass(e + "active") || (a.direction = g > a.currentSlide ? "next" : "prev", a.flexAnimate(g, c.pauseOnAction))
            });
            p && a.controlNavScaffold.delegate("a", "click touchstart", function (a) {
                a.preventDefault()
            })
        }, setupManual:function () {
            a.controlNav = a.manualControls;
            f.controlNav.active();
            a.controlNav.live(t, function (b) {
                b.preventDefault();
                var b = d(this), g = a.controlNav.index(b);
                b.hasClass(e + "active") || (g > a.currentSlide ? a.direction = "next" : a.direction = "prev", a.flexAnimate(g, c.pauseOnAction))
            });
            p && a.controlNav.live("click touchstart", function (a) {
                a.preventDefault()
            })
        }, set:function () {
            a.controlNav = d("." + e + "control-nav li " + ("thumbnails" === c.controlNav ? "img" : "a"), a.controlsContainer ? a.controlsContainer : a)
        }, active:function () {
            a.controlNav.removeClass(e + "active").eq(a.animatingTo).addClass(e + "active")
        }, update:function (b, c) {
            1 < a.pagingCount && "add" === b ? a.controlNavScaffold.append(d("<li><a>" + a.count + "</a></li>")) : 1 === a.pagingCount ? a.controlNavScaffold.find("li").remove() : a.controlNav.eq(c).closest("li").remove();
            f.controlNav.set();
            1 < a.pagingCount && a.pagingCount !== a.controlNav.length ? a.update(c, b) : f.controlNav.active()
        }}, directionNav:{setup:function () {
            var b = d('<ul class="' + e + 'direction-nav"><li><a class="' + e + 'prev" href="#">' + c.prevText + '</a></li><li><a class="' + e + 'next" href="#">' + c.nextText + "</a></li></ul>");
            a.controlsContainer ? (d(a.controlsContainer).append(b), a.directionNav = d("." + e + "direction-nav li a", a.controlsContainer)) : (a.append(b), a.directionNav = d("." + e + "direction-nav li a", a));
            f.directionNav.update();
            a.directionNav.bind(t, function (b) {
                b.preventDefault();
                b = d(this).hasClass(e + "next") ? a.getTarget("next") : a.getTarget("prev");
                a.flexAnimate(b, c.pauseOnAction)
            });
            p && a.directionNav.bind("click touchstart", function (a) {
                a.preventDefault()
            })
        }, update:function () {
            var b = e + "disabled";
            1 === a.pagingCount ? a.directionNav.addClass(b) : c.animationLoop ? a.directionNav.removeClass(b) : 0 === a.animatingTo ? a.directionNav.removeClass(b).filter("." + e + "prev").addClass(b) : a.animatingTo === a.last ? a.directionNav.removeClass(b).filter("." + e + "next").addClass(b) : a.directionNav.removeClass(b)
        }}, pausePlay:{setup:function () {
            var b = d('<div class="' + e + 'pauseplay"><a></a></div>');
            a.controlsContainer ? (a.controlsContainer.append(b), a.pausePlay = d("." + e + "pauseplay a", a.controlsContainer)) : (a.append(b), a.pausePlay = d("." + e + "pauseplay a", a));
            f.pausePlay.update(c.slideshow ? e + "pause" : e + "play");
            a.pausePlay.bind(t, function (b) {
                b.preventDefault();
                d(this).hasClass(e + "pause") ? (a.manualPause = !0, a.manualPlay = !1, a.pause()) : (a.manualPause = !1, a.manualPlay = !0, a.play())
            });
            p && a.pausePlay.bind("click touchstart", function (a) {
                a.preventDefault()
            })
        }, update:function (b) {
            "play" === b ? a.pausePlay.removeClass(e + "pause").addClass(e + "play").text(c.playText) : a.pausePlay.removeClass(e + "play").addClass(e + "pause").text(c.pauseText)
        }}, touch:function () {
            function b(b) {
                j = l ? d - b.touches[0].pageY : d - b.touches[0].pageX;
                p = l ? Math.abs(j) < Math.abs(b.touches[0].pageX - e) : Math.abs(j) < Math.abs(b.touches[0].pageY - e);
                if (!p || 500 < Number(new Date) - k)b.preventDefault(), !r && a.transitions && (c.animationLoop || (j /= 0 === a.currentSlide && 0 > j || a.currentSlide === a.last && 0 < j ? Math.abs(j) / q + 2 : 1), a.setProps(f + j, "setTouch"))
            }

            function g() {
                i.removeEventListener("touchmove", b, !1);
                if (a.animatingTo === a.currentSlide && !p && null !== j) {
                    var h = m ? -j : j, l = 0 < h ? a.getTarget("next") : a.getTarget("prev");
                    a.canAdvance(l) && (550 > Number(new Date) - k && 50 < Math.abs(h) || Math.abs(h) > q / 2) ? a.flexAnimate(l, c.pauseOnAction) : r || a.flexAnimate(a.currentSlide, c.pauseOnAction, !0)
                }
                i.removeEventListener("touchend", g, !1);
                f = j = e = d = null
            }

            var d, e, f, q, j, k, p = !1;
            i.addEventListener("touchstart", function (j) {
                a.animating ? j.preventDefault() : 1 === j.touches.length && (a.pause(), q = l ? a.h : a.w, k = Number(new Date), f = h && m && a.animatingTo === a.last ? 0 : h && m ? a.limit - (a.itemW + c.itemMargin) * a.move * a.animatingTo : h && a.currentSlide === a.last ? a.limit : h ? (a.itemW + c.itemMargin) * a.move * a.currentSlide : m ? (a.last - a.currentSlide + a.cloneOffset) * q : (a.currentSlide + a.cloneOffset) * q, d = l ? j.touches[0].pageY : j.touches[0].pageX, e = l ? j.touches[0].pageX : j.touches[0].pageY, i.addEventListener("touchmove", b, !1), i.addEventListener("touchend", g, !1))
            }, !1)
        }, resize:function () {
            !a.animating && a.is(":visible") && (h || a.doMath(), r ? f.smoothHeight() : h ? (a.slides.width(a.computedW), a.update(a.pagingCount), a.setProps()) : l ? (a.viewport.height(a.h), a.setProps(a.h, "setTotal")) : (c.smoothHeight && f.smoothHeight(), a.newSlides.width(a.computedW), a.setProps(a.computedW, "setTotal")))
        }, smoothHeight:function (b) {
            if (!l || r) {
                var c = r ? a : a.viewport;
                b ? c.animate({height:a.slides.eq(a.animatingTo).height()}, b) : c.height(a.slides.eq(a.animatingTo).height())
            }
        }, sync:function (b) {
            var g = d(c.sync).data("flexslider"), e = a.animatingTo;
            switch (b) {
                case "animate":
                    g.flexAnimate(e, c.pauseOnAction, !1, !0);
                    break;
                case "play":
                    !g.playing && !g.asNav && g.play();
                    break;
                case "pause":
                    g.pause()
            }
        }};
        a.flexAnimate = function (b, g, n, i, k) {
            s && 1 === a.pagingCount && (a.direction = a.currentItem < b ? "next" : "prev");
            if (!a.animating && (a.canAdvance(b, k) || n) && a.is(":visible")) {
                if (s && i)if (n = d(c.asNavFor).data("flexslider"), a.atEnd = 0 === b || b === a.count - 1, n.flexAnimate(b, !0, !1, !0, k), a.direction = a.currentItem < b ? "next" : "prev", n.direction = a.direction, Math.ceil((b + 1) / a.visible) - 1 !== a.currentSlide && 0 !== b)a.currentItem = b, a.slides.removeClass(e + "active-slide").eq(b).addClass(e + "active-slide"), b = Math.floor(b / a.visible); else return a.currentItem = b, a.slides.removeClass(e + "active-slide").eq(b).addClass(e + "active-slide"), !1;
                a.animating = !0;
                a.animatingTo = b;
                c.before(a);
                g && a.pause();
                a.syncExists && !k && f.sync("animate");
                c.controlNav && f.controlNav.active();
                h || a.slides.removeClass(e + "active-slide").eq(b).addClass(e + "active-slide");
                a.atEnd = 0 === b || b === a.last;
                c.directionNav && f.directionNav.update();
                b === a.last && (c.end(a), c.animationLoop || a.pause());
                if (r)p ? (a.slides.eq(a.currentSlide).css({opacity:0, zIndex:1}), a.slides.eq(b).css({opacity:1, zIndex:2}), a.animating = !1, a.currentSlide = a.animatingTo) : (a.slides.eq(a.currentSlide).fadeOut(c.animationSpeed, c.easing), a.slides.eq(b).fadeIn(c.animationSpeed, c.easing, a.wrapup)); else {
                    var q = l ? a.slides.filter(":first").height() : a.computedW;
                    h ? (b = c.itemWidth > a.w ? 2 * c.itemMargin : c.itemMargin, b = (a.itemW + b) * a.move * a.animatingTo, b = b > a.limit && 1 !== a.visible ? a.limit : b) : b = 0 === a.currentSlide && b === a.count - 1 && c.animationLoop && "next" !== a.direction ? m ? (a.count + a.cloneOffset) * q : 0 : a.currentSlide === a.last && 0 === b && c.animationLoop && "prev" !== a.direction ? m ? 0 : (a.count + 1) * q : m ? (a.count - 1 - b + a.cloneOffset) * q : (b + a.cloneOffset) * q;
                    a.setProps(b, "", c.animationSpeed);
                    if (a.transitions) {
                        if (!c.animationLoop || !a.atEnd)a.animating = !1, a.currentSlide = a.animatingTo;
                        a.container.unbind("webkitTransitionEnd transitionend");
                        a.container.bind("webkitTransitionEnd transitionend", function () {
                            a.wrapup(q)
                        })
                    } else a.container.animate(a.args, c.animationSpeed, c.easing, function () {
                        a.wrapup(q)
                    })
                }
                c.smoothHeight && f.smoothHeight(c.animationSpeed)
            }
        };
        a.wrapup = function (b) {
            !r && !h && (0 === a.currentSlide && a.animatingTo === a.last && c.animationLoop ? a.setProps(b, "jumpEnd") : a.currentSlide === a.last && (0 === a.animatingTo && c.animationLoop) && a.setProps(b, "jumpStart"));
            a.animating = !1;
            a.currentSlide = a.animatingTo;
            c.after(a)
        };
        a.animateSlides = function () {
            a.animating || a.flexAnimate(a.getTarget("next"))
        };
        a.pause = function () {
            clearInterval(a.animatedSlides);
            a.playing = !1;
            c.pausePlay && f.pausePlay.update("play");
            a.syncExists && f.sync("pause")
        };
        a.play = function () {
            a.animatedSlides = setInterval(a.animateSlides, c.slideshowSpeed);
            a.playing = !0;
            c.pausePlay && f.pausePlay.update("pause");
            a.syncExists && f.sync("play")
        };
        a.canAdvance = function (b, g) {
            var d = s ? a.pagingCount - 1 : a.last;
            return g ? !0 : s && a.currentItem === a.count - 1 && 0 === b && "prev" === a.direction ? !0 : s && 0 === a.currentItem && b === a.pagingCount - 1 && "next" !== a.direction ? !1 : b === a.currentSlide && !s ? !1 : c.animationLoop ? !0 : a.atEnd && 0 === a.currentSlide && b === d && "next" !== a.direction ? !1 : a.atEnd && a.currentSlide === d && 0 === b && "next" === a.direction ? !1 : !0
        };
        a.getTarget = function (b) {
            a.direction = b;
            return"next" === b ? a.currentSlide === a.last ? 0 : a.currentSlide + 1 : 0 === a.currentSlide ? a.last : a.currentSlide - 1
        };
        a.setProps = function (b, g, d) {
            var e, f = b ? b : (a.itemW + c.itemMargin) * a.move * a.animatingTo;
            e = -1 * function () {
                if (h)return"setTouch" === g ? b : m && a.animatingTo === a.last ? 0 : m ? a.limit - (a.itemW + c.itemMargin) * a.move * a.animatingTo : a.animatingTo === a.last ? a.limit : f;
                switch (g) {
                    case "setTotal":
                        return m ? (a.count - 1 - a.currentSlide + a.cloneOffset) * b : (a.currentSlide + a.cloneOffset) * b;
                    case "setTouch":
                        return b;
                    case "jumpEnd":
                        return m ? b : a.count * b;
                    case "jumpStart":
                        return m ? a.count * b : b;
                    default:
                        return b
                }
            }() + "px";
            a.transitions && (e = l ? "translate3d(0," + e + ",0)" : "translate3d(" + e + ",0,0)", d = void 0 !== d ? d / 1E3 + "s" : "0s", a.container.css("-" + a.pfx + "-transition-duration", d));
            a.args[a.prop] = e;
            (a.transitions || void 0 === d) && a.container.css(a.args)
        };
        a.setup = function (b) {
            if (r)a.slides.css({width:"100%", "float":"left", marginRight:"-100%", position:"relative"}), "init" === b && (p ? a.slides.css({opacity:0, display:"block", webkitTransition:"opacity " + c.animationSpeed / 1E3 + "s ease", zIndex:1}).eq(a.currentSlide).css({opacity:1, zIndex:2}) : a.slides.eq(a.currentSlide).fadeIn(c.animationSpeed, c.easing)), c.smoothHeight && f.smoothHeight(); else {
                var g, n;
                "init" === b && (a.viewport = d('<div class="' + e + 'viewport"></div>').css({overflow:"hidden", position:"relative"}).appendTo(a).append(a.container), a.cloneCount = 0, a.cloneOffset = 0, m && (n = d.makeArray(a.slides).reverse(), a.slides = d(n), a.container.empty().append(a.slides)));
                c.animationLoop && !h && (a.cloneCount = 2, a.cloneOffset = 1, "init" !== b && a.container.find(".clone").remove(), a.container.append(a.slides.first().clone().addClass("clone")).prepend(a.slides.last().clone().addClass("clone")));
                a.newSlides = d(c.selector, a);
                g = m ? a.count - 1 - a.currentSlide + a.cloneOffset : a.currentSlide + a.cloneOffset;
                l && !h ? (a.container.height(200 * (a.count + a.cloneCount) + "%").css("position", "absolute").width("100%"), setTimeout(function () {
                    a.newSlides.css({display:"block"});
                    a.doMath();
                    a.viewport.height(a.h);
                    a.setProps(g * a.h, "init")
                }, "init" === b ? 100 : 0)) : (a.container.width(200 * (a.count + a.cloneCount) + "%"), a.setProps(g * a.computedW, "init"), setTimeout(function () {
                    a.doMath();
                    a.newSlides.css({width:a.computedW, "float":"left", display:"block"});
                    c.smoothHeight && f.smoothHeight()
                }, "init" === b ? 100 : 0))
            }
            h || a.slides.removeClass(e + "active-slide").eq(a.currentSlide).addClass(e + "active-slide")
        };
        a.doMath = function () {
            var b = a.slides.first(), d = c.itemMargin, e = c.minItems, f = c.maxItems;
            a.w = a.width();
            a.h = b.height();
            a.boxPadding = b.outerWidth() - b.width();
            h ? (a.itemT = c.itemWidth + d, a.minW = e ? e * a.itemT : a.w, a.maxW = f ? f * a.itemT : a.w, a.itemW = a.minW > a.w ? (a.w - d * e) / e : a.maxW < a.w ? (a.w - d * f) / f : c.itemWidth > a.w ? a.w : c.itemWidth, a.visible = Math.floor(a.w / (a.itemW + d)), a.move = 0 < c.move && c.move < a.visible ? c.move : a.visible, a.pagingCount = Math.ceil((a.count - a.visible) / a.move + 1), a.last = a.pagingCount - 1, a.limit = 1 === a.pagingCount ? 0 : c.itemWidth > a.w ? (a.itemW + 2 * d) * a.count - a.w - d : (a.itemW + d) * a.count - a.w - d) : (a.itemW = a.w, a.pagingCount = a.count, a.last = a.count - 1);
            a.computedW = a.itemW - a.boxPadding
        };
        a.update = function (b, d) {
            a.doMath();
            h || (b < a.currentSlide ? a.currentSlide += 1 : b <= a.currentSlide && 0 !== b && (a.currentSlide -= 1), a.animatingTo = a.currentSlide);
            if (c.controlNav && !a.manualControls)if ("add" === d && !h || a.pagingCount > a.controlNav.length)f.controlNav.update("add"); else if ("remove" === d && !h || a.pagingCount < a.controlNav.length)h && a.currentSlide > a.last && (a.currentSlide -= 1, a.animatingTo -= 1), f.controlNav.update("remove", a.last);
            c.directionNav && f.directionNav.update()
        };
        a.addSlide = function (b, e) {
            var f = d(b);
            a.count += 1;
            a.last = a.count - 1;
            l && m ? void 0 !== e ? a.slides.eq(a.count - e).after(f) : a.container.prepend(f) : void 0 !== e ? a.slides.eq(e).before(f) : a.container.append(f);
            a.update(e, "add");
            a.slides = d(c.selector + ":not(.clone)", a);
            a.setup();
            c.added(a)
        };
        a.removeSlide = function (b) {
            var e = isNaN(b) ? a.slides.index(d(b)) : b;
            a.count -= 1;
            a.last = a.count - 1;
            isNaN(b) ? d(b, a.slides).remove() : l && m ? a.slides.eq(a.last).remove() : a.slides.eq(b).remove();
            a.doMath();
            a.update(e, "remove");
            a.slides = d(c.selector + ":not(.clone)", a);
            a.setup();
            c.removed(a)
        };
        f.init()
    };
    d.flexslider.defaults = {namespace:"flex-", selector:".slides > li", animation:"fade", easing:"swing", direction:"horizontal", reverse:!1, animationLoop:!0, smoothHeight:!1, startAt:0, slideshow:!0, slideshowSpeed:7E3, animationSpeed:600, initDelay:0, randomize:!1, pauseOnAction:!0, pauseOnHover:!1, useCSS:!0, touch:!0, video:!1, controlNav:!0, directionNav:!0, prevText:"Previous", nextText:"Next", keyboard:!0, multipleKeyboard:!1, mousewheel:!1, pausePlay:!1, pauseText:"Pause", playText:"Play", controlsContainer:"", manualControls:"", sync:"", asNavFor:"", itemWidth:0, itemMargin:0, minItems:0, maxItems:0, move:0, start:function () {
    }, before:function () {
    }, after:function () {
    }, end:function () {
    }, added:function () {
    }, removed:function () {
    }};
    d.fn.flexslider = function (i) {
        void 0 === i && (i = {});
        if ("object" === typeof i)return this.each(function () {
            var a = d(this), c = a.find(i.selector ? i.selector : ".slides > li");
            1 === c.length ? (c.fadeIn(400), i.start && i.start(a)) : void 0 === a.data("flexslider") && new d.flexslider(this, i)
        });
        var k = d(this).data("flexslider");
        switch (i) {
            case "play":
                k.play();
                break;
            case "pause":
                k.pause();
                break;
            case "next":
                k.flexAnimate(k.getTarget("next"), !0);
                break;
            case "prev":
            case "previous":
                k.flexAnimate(k.getTarget("prev"), !0);
                break;
            default:
                "number" === typeof i && k.flexAnimate(i, !0)
        }
    }
})(jQuery);

/* fancyBox v2.1.3 */
(function (B, x, f, q) {
    var r = f(B), m = f(x), b = f.fancybox = function () {
        b.open.apply(this, arguments)
    }, u = null, n = x.createTouch !== q, s = function (a) {
        return a && a.hasOwnProperty && a instanceof f
    }, p = function (a) {
        return a && "string" === f.type(a)
    }, E = function (a) {
        return p(a) && 0 < a.indexOf("%")
    }, k = function (a, d) {
        var e = parseInt(a, 10) || 0;
        d && E(a) && (e *= b.getViewport()[d] / 100);
        return Math.ceil(e)
    }, v = function (a, b) {
        return k(a, b) + "px"
    };
    f.extend(b, {version:"2.1.3", defaults:{padding:15, margin:20, width:800, height:600, minWidth:100, minHeight:100, maxWidth:9999, maxHeight:9999, autoSize:!0, autoHeight:!1, autoWidth:!1, autoResize:!0, autoCenter:!n, fitToView:!0, aspectRatio:!1, topRatio:0.5, leftRatio:0.5, scrolling:"auto", wrapCSS:"", arrows:!0, closeBtn:!0, closeClick:!1, nextClick:!1, mouseWheel:!0, autoPlay:!1, playSpeed:3E3, preload:3, modal:!1, loop:!0, ajax:{dataType:"html", headers:{"X-fancyBox":!0}}, iframe:{scrolling:"auto", preload:!0}, swf:{wmode:"transparent", allowfullscreen:"true", allowscriptaccess:"always"}, keys:{next:{13:"left", 34:"up", 39:"left", 40:"up"}, prev:{8:"right", 33:"down", 37:"right", 38:"down"}, close:[27], play:[32], toggle:[70]}, direction:{next:"left", prev:"right"}, scrollOutside:!0, index:0, type:null, href:null, content:null, title:null, tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>', image:'<img class="fancybox-image" src="{href}" alt="" />', iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen' + (f.browser.msie ? ' allowtransparency="true"' : "") + "></iframe>", error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>', closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>', next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>', prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'}, openEffect:"fade", openSpeed:250, openEasing:"swing", openOpacity:!0, openMethod:"zoomIn", closeEffect:"fade", closeSpeed:250, closeEasing:"swing", closeOpacity:!0, closeMethod:"zoomOut", nextEffect:"elastic", nextSpeed:250, nextEasing:"swing", nextMethod:"changeIn", prevEffect:"elastic", prevSpeed:250, prevEasing:"swing", prevMethod:"changeOut", helpers:{overlay:!0, title:!0}, onCancel:f.noop, beforeLoad:f.noop, afterLoad:f.noop, beforeShow:f.noop, afterShow:f.noop, beforeChange:f.noop, beforeClose:f.noop, afterClose:f.noop}, group:{}, opts:{}, previous:null, coming:null, current:null, isActive:!1, isOpen:!1, isOpened:!1, wrap:null, skin:null, outer:null, inner:null, player:{timer:null, isActive:!1}, ajaxLoad:null, imgPreload:null, transitions:{}, helpers:{}, open:function (a, d) {
        if (a && (f.isPlainObject(d) || (d = {}), !1 !== b.close(!0)))return f.isArray(a) || (a = s(a) ? f(a).get() : [a]), f.each(a, function (e, c) {
            var j = {}, g, h, i, l, k;
            "object" === f.type(c) && (c.nodeType && (c = f(c)), s(c) ? (j = {href:c.data("fancybox-href") || c.attr("href"), title:c.data("fancybox-title") || c.attr("title"), isDom:!0, element:c}, f.metadata && f.extend(!0, j, c.metadata())) : j = c);
            g = d.href || j.href || (p(c) ? c : null);
            h = d.title !== q ? d.title : j.title || "";
            l = (i = d.content || j.content) ? "html" : d.type || j.type;
            !l && j.isDom && (l = c.data("fancybox-type"), l || (l = (l = c.prop("class").match(/fancybox\.(\w+)/)) ? l[1] : null));
            p(g) && (l || (b.isImage(g) ? l = "image" : b.isSWF(g) ? l = "swf" : "#" === g.charAt(0) ? l = "inline" : p(c) && (l = "html", i = c)), "ajax" === l && (k = g.split(/\s+/, 2), g = k.shift(), k = k.shift()));
            i || ("inline" === l ? g ? i = f(p(g) ? g.replace(/.*(?=#[^\s]+$)/, "") : g) : j.isDom && (i = c) : "html" === l ? i = g : !l && (!g && j.isDom) && (l = "inline", i = c));
            f.extend(j, {href:g, type:l, content:i, title:h, selector:k});
            a[e] = j
        }), b.opts = f.extend(!0, {}, b.defaults, d), d.keys !== q && (b.opts.keys = d.keys ? f.extend({}, b.defaults.keys, d.keys) : !1), b.group = a, b._start(b.opts.index)
    }, cancel:function () {
        var a = b.coming;
        a && !1 !== b.trigger("onCancel") && (b.hideLoading(), b.ajaxLoad && b.ajaxLoad.abort(), b.ajaxLoad = null, b.imgPreload && (b.imgPreload.onload = b.imgPreload.onerror = null), a.wrap && a.wrap.stop(!0, !0).trigger("onReset").remove(), b.coming = null, b.current || b._afterZoomOut(a))
    }, close:function (a) {
        b.cancel();
        !1 !== b.trigger("beforeClose") && (b.unbindEvents(), b.isActive && (!b.isOpen || !0 === a ? (f(".fancybox-wrap").stop(!0).trigger("onReset").remove(), b._afterZoomOut()) : (b.isOpen = b.isOpened = !1, b.isClosing = !0, f(".fancybox-item, .fancybox-nav").remove(), b.wrap.stop(!0, !0).removeClass("fancybox-opened"), b.transitions[b.current.closeMethod]())))
    }, play:function (a) {
        var d = function () {
            clearTimeout(b.player.timer)
        }, e = function () {
            d();
            b.current && b.player.isActive && (b.player.timer = setTimeout(b.next, b.current.playSpeed))
        }, c = function () {
            d();
            f("body").unbind(".player");
            b.player.isActive = !1;
            b.trigger("onPlayEnd")
        };
        if (!0 === a || !b.player.isActive && !1 !== a) {
            if (b.current && (b.current.loop || b.current.index < b.group.length - 1))b.player.isActive = !0, f("body").bind({"afterShow.player onUpdate.player":e, "onCancel.player beforeClose.player":c, "beforeLoad.player":d}), e(), b.trigger("onPlayStart")
        } else c()
    }, next:function (a) {
        var d = b.current;
        d && (p(a) || (a = d.direction.next), b.jumpto(d.index + 1, a, "next"))
    }, prev:function (a) {
        var d = b.current;
        d && (p(a) || (a = d.direction.prev), b.jumpto(d.index - 1, a, "prev"))
    }, jumpto:function (a, d, e) {
        var c = b.current;
        c && (a = k(a), b.direction = d || c.direction[a >= c.index ? "next" : "prev"], b.router = e || "jumpto", c.loop && (0 > a && (a = c.group.length + a % c.group.length), a %= c.group.length), c.group[a] !== q && (b.cancel(), b._start(a)))
    }, reposition:function (a, d) {
        var e = b.current, c = e ? e.wrap : null, j;
        c && (j = b._getPosition(d), a && "scroll" === a.type ? (delete j.position, c.stop(!0, !0).animate(j, 200)) : (c.css(j), e.pos = f.extend({}, e.dim, j)))
    }, update:function (a) {
        var d = a && a.type, e = !d || "orientationchange" === d;
        e && (clearTimeout(u), u = null);
        b.isOpen && !u && (u = setTimeout(function () {
            var c = b.current;
            c && !b.isClosing && (b.wrap.removeClass("fancybox-tmp"), (e || "load" === d || "resize" === d && c.autoResize) && b._setDimension(), "scroll" === d && c.canShrink || b.reposition(a), b.trigger("onUpdate"), u = null)
        }, e && !n ? 0 : 300))
    }, toggle:function (a) {
        b.isOpen && (b.current.fitToView = "boolean" === f.type(a) ? a : !b.current.fitToView, n && (b.wrap.removeAttr("style").addClass("fancybox-tmp"), b.trigger("onUpdate")), b.update())
    }, hideLoading:function () {
        m.unbind(".loading");
        f("#fancybox-loading").remove()
    }, showLoading:function () {
        var a, d;
        b.hideLoading();
        a = f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");
        m.bind("keydown.loading", function (a) {
            if (27 === (a.which || a.keyCode))a.preventDefault(), b.cancel()
        });
        b.defaults.fixed || (d = b.getViewport(), a.css({position:"absolute", top:0.5 * d.h + d.y, left:0.5 * d.w + d.x}))
    }, getViewport:function () {
        var a = b.current && b.current.locked || !1, d = {x:r.scrollLeft(), y:r.scrollTop()};
        a ? (d.w = a[0].clientWidth, d.h = a[0].clientHeight) : (d.w = n && B.innerWidth ? B.innerWidth : r.width(), d.h = n && B.innerHeight ? B.innerHeight : r.height());
        return d
    }, unbindEvents:function () {
        b.wrap && s(b.wrap) && b.wrap.unbind(".fb");
        m.unbind(".fb");
        r.unbind(".fb")
    }, bindEvents:function () {
        var a = b.current, d;
        a && (r.bind("orientationchange.fb" + (n ? "" : " resize.fb") + (a.autoCenter && !a.locked ? " scroll.fb" : ""), b.update), (d = a.keys) && m.bind("keydown.fb", function (e) {
            var c = e.which || e.keyCode, j = e.target || e.srcElement;
            if (27 === c && b.coming)return!1;
            !e.ctrlKey && (!e.altKey && !e.shiftKey && !e.metaKey && (!j || !j.type && !f(j).is("[contenteditable]"))) && f.each(d, function (d, j) {
                if (1 < a.group.length && j[c] !== q)return b[d](j[c]), e.preventDefault(), !1;
                if (-1 < f.inArray(c, j))return b[d](), e.preventDefault(), !1
            })
        }), f.fn.mousewheel && a.mouseWheel && b.wrap.bind("mousewheel.fb", function (d, c, j, g) {
            for (var h = f(d.target || null), i = !1; h.length && !i && !h.is(".fancybox-skin") && !h.is(".fancybox-wrap");)i = h[0] && !(h[0].style.overflow && "hidden" === h[0].style.overflow) && (h[0].clientWidth && h[0].scrollWidth > h[0].clientWidth || h[0].clientHeight && h[0].scrollHeight > h[0].clientHeight), h = f(h).parent();
            if (0 !== c && !i && 1 < b.group.length && !a.canShrink) {
                if (0 < g || 0 < j)b.prev(0 < g ? "down" : "left"); else if (0 > g || 0 > j)b.next(0 > g ? "up" : "right");
                d.preventDefault()
            }
        }))
    }, trigger:function (a, d) {
        var e, c = d || b.coming || b.current;
        if (c) {
            f.isFunction(c[a]) && (e = c[a].apply(c, Array.prototype.slice.call(arguments, 1)));
            if (!1 === e)return!1;
            c.helpers && f.each(c.helpers, function (d, e) {
                e && (b.helpers[d] && f.isFunction(b.helpers[d][a])) && (e = f.extend(!0, {}, b.helpers[d].defaults, e), b.helpers[d][a](e, c))
            });
            f.event.trigger(a + ".fb")
        }
    }, isImage:function (a) {
        return p(a) && a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)
    }, isSWF:function (a) {
        return p(a) && a.match(/\.(swf)((\?|#).*)?$/i)
    }, _start:function (a) {
        var d = {}, e, c, a = k(a);
        e = b.group[a] || null;
        if (!e)return!1;
        d = f.extend(!0, {}, b.opts, e);
        e = d.margin;
        c = d.padding;
        "number" === f.type(e) && (d.margin = [e, e, e, e]);
        "number" === f.type(c) && (d.padding = [c, c, c, c]);
        d.modal && f.extend(!0, d, {closeBtn:!1, closeClick:!1, nextClick:!1, arrows:!1, mouseWheel:!1, keys:null, helpers:{overlay:{closeClick:!1}}});
        d.autoSize && (d.autoWidth = d.autoHeight = !0);
        "auto" === d.width && (d.autoWidth = !0);
        "auto" === d.height && (d.autoHeight = !0);
        d.group = b.group;
        d.index = a;
        b.coming = d;
        if (!1 === b.trigger("beforeLoad"))b.coming = null; else {
            c = d.type;
            e = d.href;
            if (!c)return b.coming = null, b.current && b.router && "jumpto" !== b.router ? (b.current.index = a, b[b.router](b.direction)) : !1;
            b.isActive = !0;
            if ("image" === c || "swf" === c)d.autoHeight = d.autoWidth = !1, d.scrolling = "visible";
            "image" === c && (d.aspectRatio = !0);
            "iframe" === c && n && (d.scrolling = "scroll");
            d.wrap = f(d.tpl.wrap).addClass("fancybox-" + (n ? "mobile" : "desktop") + " fancybox-type-" + c + " fancybox-tmp " + d.wrapCSS).appendTo(d.parent || "body");
            f.extend(d, {skin:f(".fancybox-skin", d.wrap), outer:f(".fancybox-outer", d.wrap), inner:f(".fancybox-inner", d.wrap)});
            f.each(["Top", "Right", "Bottom", "Left"], function (a, b) {
                d.skin.css("padding" + b, v(d.padding[a]))
            });
            b.trigger("onReady");
            if ("inline" === c || "html" === c) {
                if (!d.content || !d.content.length)return b._error("content")
            } else if (!e)return b._error("href");
            "image" === c ? b._loadImage() : "ajax" === c ? b._loadAjax() : "iframe" === c ? b._loadIframe() : b._afterLoad()
        }
    }, _error:function (a) {
        f.extend(b.coming, {type:"html", autoWidth:!0, autoHeight:!0, minWidth:0, minHeight:0, scrolling:"no", hasError:a, content:b.coming.tpl.error});
        b._afterLoad()
    }, _loadImage:function () {
        var a = b.imgPreload = new Image;
        a.onload = function () {
            this.onload = this.onerror = null;
            b.coming.width = this.width;
            b.coming.height = this.height;
            b._afterLoad()
        };
        a.onerror = function () {
            this.onload = this.onerror = null;
            b._error("image")
        };
        a.src = b.coming.href;
        !0 !== a.complete && b.showLoading()
    }, _loadAjax:function () {
        var a = b.coming;
        b.showLoading();
        b.ajaxLoad = f.ajax(f.extend({}, a.ajax, {url:a.href, error:function (a, e) {
            b.coming && "abort" !== e ? b._error("ajax", a) : b.hideLoading()
        }, success:function (d, e) {
            "success" === e && (a.content = d, b._afterLoad())
        }}))
    }, _loadIframe:function () {
        var a = b.coming, d = f(a.tpl.iframe.replace(/\{rnd\}/g, (new Date).getTime())).attr("scrolling", n ? "auto" : a.iframe.scrolling).attr("src", a.href);
        f(a.wrap).bind("onReset", function () {
            try {
                f(this).find("iframe").hide().attr("src", "//about:blank").end().empty()
            } catch (a) {
            }
        });
        a.iframe.preload && (b.showLoading(), d.one("load", function () {
            f(this).data("ready", 1);
            n || f(this).bind("load.fb", b.update);
            f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();
            b._afterLoad()
        }));
        a.content = d.appendTo(a.inner);
        a.iframe.preload || b._afterLoad()
    }, _preloadImages:function () {
        var a = b.group, d = b.current, e = a.length, c = d.preload ? Math.min(d.preload, e - 1) : 0, f, g;
        for (g = 1; g <= c; g += 1)f = a[(d.index + g) % e], "image" === f.type && f.href && ((new Image).src = f.href)
    }, _afterLoad:function () {
        var a = b.coming, d = b.current, e, c, j, g, h;
        b.hideLoading();
        if (a && !1 !== b.isActive)if (!1 === b.trigger("afterLoad", a, d))a.wrap.stop(!0).trigger("onReset").remove(), b.coming = null; else {
            d && (b.trigger("beforeChange", d), d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());
            b.unbindEvents();
            e = a.content;
            c = a.type;
            j = a.scrolling;
            f.extend(b, {wrap:a.wrap, skin:a.skin, outer:a.outer, inner:a.inner, current:a, previous:d});
            g = a.href;
            switch (c) {
                case "inline":
                case "ajax":
                case "html":
                    a.selector ? e = f("<div>").html(e).find(a.selector) : s(e) && (e.data("fancybox-placeholder") || e.data("fancybox-placeholder", f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()), e = e.show().detach(), a.wrap.bind("onReset", function () {
                        f(this).find(e).length && e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder", !1)
                    }));
                    break;
                case "image":
                    e = a.tpl.image.replace("{href}", g);
                    break;
                case "swf":
                    e = '<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="' + g + '"></param>', h = "", f.each(a.swf, function (a, b) {
                        e += '<param name="' + a + '" value="' + b + '"></param>';
                        h += " " + a + '="' + b + '"'
                    }), e += '<embed src="' + g + '" type="application/x-shockwave-flash" width="100%" height="100%"' + h + "></embed></object>"
            }
            (!s(e) || !e.parent().is(a.inner)) && a.inner.append(e);
            b.trigger("beforeShow");
            a.inner.css("overflow", "yes" === j ? "scroll" : "no" === j ? "hidden" : j);
            b._setDimension();
            b.reposition();
            b.isOpen = !1;
            b.coming = null;
            b.bindEvents();
            if (b.isOpened) {
                if (d.prevMethod)b.transitions[d.prevMethod]()
            } else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();
            b.transitions[b.isOpened ? a.nextMethod : a.openMethod]();
            b._preloadImages()
        }
    }, _setDimension:function () {
        var a = b.getViewport(), d = 0, e = !1, c = !1, e = b.wrap, j = b.skin, g = b.inner, h = b.current, c = h.width, i = h.height, l = h.minWidth, t = h.minHeight, m = h.maxWidth, n = h.maxHeight, r = h.scrolling, p = h.scrollOutside ? h.scrollbarWidth : 0, w = h.margin, y = k(w[1] + w[3]), q = k(w[0] + w[2]), x, z, s, C, A, F, B, D, u;
        e.add(j).add(g).width("auto").height("auto").removeClass("fancybox-tmp");
        w = k(j.outerWidth(!0) - j.width());
        x = k(j.outerHeight(!0) - j.height());
        z = y + w;
        s = q + x;
        C = E(c) ? (a.w - z) * k(c) / 100 : c;
        A = E(i) ? (a.h - s) * k(i) / 100 : i;
        if ("iframe" === h.type) {
            if (u = h.content, h.autoHeight && 1 === u.data("ready"))try {
                u[0].contentWindow.document.location && (g.width(C).height(9999), F = u.contents().find("body"), p && F.css("overflow-x", "hidden"), A = F.height())
            } catch (G) {
            }
        } else if (h.autoWidth || h.autoHeight)g.addClass("fancybox-tmp"), h.autoWidth || g.width(C), h.autoHeight || g.height(A), h.autoWidth && (C = g.width()), h.autoHeight && (A = g.height()), g.removeClass("fancybox-tmp");
        c = k(C);
        i = k(A);
        D = C / A;
        l = k(E(l) ? k(l, "w") - z : l);
        m = k(E(m) ? k(m, "w") - z : m);
        t = k(E(t) ? k(t, "h") - s : t);
        n = k(E(n) ? k(n, "h") - s : n);
        F = m;
        B = n;
        h.fitToView && (m = Math.min(a.w - z, m), n = Math.min(a.h - s, n));
        z = a.w - y;
        q = a.h - q;
        h.aspectRatio ? (c > m && (c = m, i = k(c / D)), i > n && (i = n, c = k(i * D)), c < l && (c = l, i = k(c / D)), i < t && (i = t, c = k(i * D))) : (c = Math.max(l, Math.min(c, m)), h.autoHeight && "iframe" !== h.type && (g.width(c), i = g.height()), i = Math.max(t, Math.min(i, n)));
        if (h.fitToView)if (g.width(c).height(i), e.width(c + w), a = e.width(), y = e.height(), h.aspectRatio)for (; (a > z || y > q) && (c > l && i > t) && !(19 < d++);)i = Math.max(t, Math.min(n, i - 10)), c = k(i * D), c < l && (c = l, i = k(c / D)), c > m && (c = m, i = k(c / D)), g.width(c).height(i), e.width(c + w), a = e.width(), y = e.height(); else c = Math.max(l, Math.min(c, c - (a - z))), i = Math.max(t, Math.min(i, i - (y - q)));
        p && ("auto" === r && i < A && c + w + p < z) && (c += p);
        g.width(c).height(i);
        e.width(c + w);
        a = e.width();
        y = e.height();
        e = (a > z || y > q) && c > l && i > t;
        c = h.aspectRatio ? c < F && i < B && c < C && i < A : (c < F || i < B) && (c < C || i < A);
        f.extend(h, {dim:{width:v(a), height:v(y)}, origWidth:C, origHeight:A, canShrink:e, canExpand:c, wPadding:w, hPadding:x, wrapSpace:y - j.outerHeight(!0), skinSpace:j.height() - i});
        !u && (h.autoHeight && i > t && i < n && !c) && g.height("auto")
    }, _getPosition:function (a) {
        var d = b.current, e = b.getViewport(), c = d.margin, f = b.wrap.width() + c[1] + c[3], g = b.wrap.height() + c[0] + c[2], c = {position:"absolute", top:c[0], left:c[3]};
        d.autoCenter && d.fixed && !a && g <= e.h && f <= e.w ? c.position = "fixed" : d.locked || (c.top += e.y, c.left += e.x);
        c.top = v(Math.max(c.top, c.top + (e.h - g) * d.topRatio));
        c.left = v(Math.max(c.left, c.left + (e.w - f) * d.leftRatio));
        return c
    }, _afterZoomIn:function () {
        var a = b.current;
        a && (b.isOpen = b.isOpened = !0, b.wrap.css("overflow", "visible").addClass("fancybox-opened"), b.update(), (a.closeClick || a.nextClick && 1 < b.group.length) && b.inner.css("cursor", "pointer").bind("click.fb", function (d) {
            !f(d.target).is("a") && !f(d.target).parent().is("a") && (d.preventDefault(), b[a.closeClick ? "close" : "next"]())
        }), a.closeBtn && f(a.tpl.closeBtn).appendTo(b.skin).bind(n ? "touchstart.fb" : "click.fb", function (a) {
            a.preventDefault();
            b.close()
        }), a.arrows && 1 < b.group.length && ((a.loop || 0 < a.index) && f(a.tpl.prev).appendTo(b.outer).bind("click.fb", b.prev), (a.loop || a.index < b.group.length - 1) && f(a.tpl.next).appendTo(b.outer).bind("click.fb", b.next)), b.trigger("afterShow"), !a.loop && a.index === a.group.length - 1 ? b.play(!1) : b.opts.autoPlay && !b.player.isActive && (b.opts.autoPlay = !1, b.play()))
    }, _afterZoomOut:function (a) {
        a = a || b.current;
        f(".fancybox-wrap").trigger("onReset").remove();
        f.extend(b, {group:{}, opts:{}, router:!1, current:null, isActive:!1, isOpened:!1, isOpen:!1, isClosing:!1, wrap:null, skin:null, outer:null, inner:null});
        b.trigger("afterClose", a)
    }});
    b.transitions = {getOrigPosition:function () {
        var a = b.current, d = a.element, e = a.orig, c = {}, f = 50, g = 50, h = a.hPadding, i = a.wPadding, l = b.getViewport();
        !e && (a.isDom && d.is(":visible")) && (e = d.find("img:first"), e.length || (e = d));
        s(e) ? (c = e.offset(), e.is("img") && (f = e.outerWidth(), g = e.outerHeight())) : (c.top = l.y + (l.h - g) * a.topRatio, c.left = l.x + (l.w - f) * a.leftRatio);
        if ("fixed" === b.wrap.css("position") || a.locked)c.top -= l.y, c.left -= l.x;
        return c = {top:v(c.top - h * a.topRatio), left:v(c.left - i * a.leftRatio), width:v(f + i), height:v(g + h)}
    }, step:function (a, d) {
        var e, c, f = d.prop;
        c = b.current;
        var g = c.wrapSpace, h = c.skinSpace;
        if ("width" === f || "height" === f)e = d.end === d.start ? 1 : (a - d.start) / (d.end - d.start), b.isClosing && (e = 1 - e), c = "width" === f ? c.wPadding : c.hPadding, c = a - c, b.skin[f](k("width" === f ? c : c - g * e)), b.inner[f](k("width" === f ? c : c - g * e - h * e))
    }, zoomIn:function () {
        var a = b.current, d = a.pos, e = a.openEffect, c = "elastic" === e, j = f.extend({opacity:1}, d);
        delete j.position;
        c ? (d = this.getOrigPosition(), a.openOpacity && (d.opacity = 0.1)) : "fade" === e && (d.opacity = 0.1);
        b.wrap.css(d).animate(j, {duration:"none" === e ? 0 : a.openSpeed, easing:a.openEasing, step:c ? this.step : null, complete:b._afterZoomIn})
    }, zoomOut:function () {
        var a = b.current, d = a.closeEffect, e = "elastic" === d, c = {opacity:0.1};
        e && (c = this.getOrigPosition(), a.closeOpacity && (c.opacity = 0.1));
        b.wrap.animate(c, {duration:"none" === d ? 0 : a.closeSpeed, easing:a.closeEasing, step:e ? this.step : null, complete:b._afterZoomOut})
    }, changeIn:function () {
        var a = b.current, d = a.nextEffect, e = a.pos, c = {opacity:1}, f = b.direction, g;
        e.opacity = 0.1;
        "elastic" === d && (g = "down" === f || "up" === f ? "top" : "left", "down" === f || "right" === f ? (e[g] = v(k(e[g]) - 200), c[g] = "+=200px") : (e[g] = v(k(e[g]) + 200), c[g] = "-=200px"));
        "none" === d ? b._afterZoomIn() : b.wrap.css(e).animate(c, {duration:a.nextSpeed, easing:a.nextEasing, complete:function () {
            setTimeout(b._afterZoomIn, 20)
        }})
    }, changeOut:function () {
        var a = b.previous, d = a.prevEffect, e = {opacity:0.1}, c = b.direction;
        "elastic" === d && (e["down" === c || "up" === c ? "top" : "left"] = ("up" === c || "left" === c ? "-" : "+") + "=200px");
        a.wrap.animate(e, {duration:"none" === d ? 0 : a.prevSpeed, easing:a.prevEasing, complete:function () {
            f(this).trigger("onReset").remove()
        }})
    }};
    b.helpers.overlay = {defaults:{closeClick:!0, speedOut:200, showEarly:!0, css:{}, locked:!n, fixed:!0}, overlay:null, fixed:!1, create:function (a) {
        a = f.extend({}, this.defaults, a);
        this.overlay && this.close();
        this.overlay = f('<div class="fancybox-overlay"></div>').appendTo("body");
        this.fixed = !1;
        a.fixed && b.defaults.fixed && (this.overlay.addClass("fancybox-overlay-fixed"), this.fixed = !0)
    }, open:function (a) {
        var d = this, a = f.extend({}, this.defaults, a);
        this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(a);
        this.fixed || (r.bind("resize.overlay", f.proxy(this.update, this)), this.update());
        a.closeClick && this.overlay.bind("click.overlay", function (a) {
            f(a.target).hasClass("fancybox-overlay") && (b.isActive ? b.close() : d.close())
        });
        this.overlay.css(a.css).show()
    }, close:function () {
        f(".fancybox-overlay").remove();
        r.unbind("resize.overlay");
        this.overlay = null;
        !1 !== this.margin && (f("body").css("margin-right", this.margin), this.margin = !1);
        this.el && this.el.removeClass("fancybox-lock")
    }, update:function () {
        var a = "100%", b;
        this.overlay.width(a).height("100%");
        f.browser.msie ? (b = Math.max(x.documentElement.offsetWidth, x.body.offsetWidth), m.width() > b && (a = m.width())) : m.width() > r.width() && (a = m.width());
        this.overlay.width(a).height(m.height())
    }, onReady:function (a, b) {
        f(".fancybox-overlay").stop(!0, !0);
        this.overlay || (this.margin = m.height() > r.height() || "scroll" === f("body").css("overflow-y") ? f("body").css("margin-right") : !1, this.el = x.all && !x.querySelector ? f("html") : f("body"), this.create(a));
        a.locked && this.fixed && (b.locked = this.overlay.append(b.wrap), b.fixed = !1);
        !0 === a.showEarly && this.beforeShow.apply(this, arguments)
    }, beforeShow:function (a, b) {
        b.locked && (this.el.addClass("fancybox-lock"), !1 !== this.margin && f("body").css("margin-right", k(this.margin) + b.scrollbarWidth));
        this.open(a)
    }, onUpdate:function () {
        this.fixed || this.update()
    }, afterClose:function (a) {
        this.overlay && !b.isActive && this.overlay.fadeOut(a.speedOut, f.proxy(this.close, this))
    }};
    b.helpers.title = {defaults:{type:"float", position:"bottom"}, beforeShow:function (a) {
        var d = b.current, e = d.title, c = a.type;
        f.isFunction(e) && (e = e.call(d.element, d));
        if (p(e) && "" !== f.trim(e)) {
            d = f('<div class="fancybox-title fancybox-title-' + c + '-wrap">' + e + "</div>");
            switch (c) {
                case "inside":
                    c = b.skin;
                    break;
                case "outside":
                    c = b.wrap;
                    break;
                case "over":
                    c = b.inner;
                    break;
                default:
                    c = b.skin, d.appendTo("body"), f.browser.msie && d.width(d.width()), d.wrapInner('<span class="child"></span>'), b.current.margin[2] += Math.abs(k(d.css("margin-bottom")))
            }
            d["top" === a.position ? "prependTo" : "appendTo"](c)
        }
    }};
    f.fn.fancybox = function (a) {
        var d, e = f(this), c = this.selector || "", j = function (g) {
            var h = f(this).blur(), i = d, j, k;
            !g.ctrlKey && (!g.altKey && !g.shiftKey && !g.metaKey) && !h.is(".fancybox-wrap") && (j = a.groupAttr || "data-fancybox-group", k = h.attr(j), k || (j = "rel", k = h.get(0)[j]), k && ("" !== k && "nofollow" !== k) && (h = c.length ? f(c) : e, h = h.filter("[" + j + '="' + k + '"]'), i = h.index(this)), a.index = i, !1 !== b.open(h, a) && g.preventDefault())
        }, a = a || {};
        d = a.index || 0;
        !c || !1 === a.live ? e.unbind("click.fb-start").bind("click.fb-start", j) : m.undelegate(c, "click.fb-start").delegate(c + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", j);
        this.filter("[data-fancybox-start=1]").trigger("click");
        return this
    };
    m.ready(function () {
        f.scrollbarWidth === q && (f.scrollbarWidth = function () {
            var a = f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"), b = a.children(), b = b.innerWidth() - b.height(99).innerWidth();
            a.remove();
            return b
        });
        if (f.support.fixedPosition === q) {
            var a = f.support, d = f('<div style="position:fixed;top:20px;"></div>').appendTo("body"), e = 20 === d[0].offsetTop || 15 === d[0].offsetTop;
            d.remove();
            a.fixedPosition = e
        }
        f.extend(b.defaults, {scrollbarWidth:f.scrollbarWidth(), fixed:f.support.fixedPosition, parent:f("body")})
    })
})(window, document, jQuery);

/* Media helper for fancyBox */
(function (a) {
    "use strict";
    var b = a.fancybox, c = function (b, c, d) {
        return d = d || "", a.type(d) === "object" && (d = a.param(d, !0)), a.each(c, function (a, c) {
            b = b.replace("$" + a, c || "")
        }), d.length && (b += (b.indexOf("?") > 0 ? "&" : "?") + d), b
    };
    b.helpers.media = {defaults:{youtube:{matcher:/(youtube\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i, params:{autoplay:1, autohide:1, fs:1, rel:0, hd:1, wmode:"opaque", enablejsapi:1}, type:"iframe", url:"//www.youtube.com/embed/$3"}, vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/, params:{autoplay:1, hd:1, show_title:1, show_byline:1, show_portrait:0, fullscreen:1}, type:"iframe", url:"//player.vimeo.com/video/$1"}, metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/, params:{autoPlay:"yes"}, type:"swf", url:function (b, c, d) {
        return d.swf.flashVars = "playerVars=" + a.param(c, !0), "//www.metacafe.com/fplayer/" + b[1] + "/.swf"
    }}, dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/, params:{additionalInfos:0, autoStart:1}, type:"swf", url:"//www.dailymotion.com/swf/video/$1"}, twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i, params:{autoplay:0}, type:"iframe", url:"//www.twitvid.com/embed.php?guid=$1"}, twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i, type:"image", url:"//twitpic.com/show/full/$1/"}, instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i, type:"image", url:"//$1/p/$2/media/"}, google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i, type:"iframe", url:function (a) {
        return"//maps.google." + a[1] + "/" + a[3] + "" + a[4] + "&output=" + (a[4].indexOf("layer=c") > 0 ? "svembed" : "embed")
    }}}, beforeLoad:function (b, d) {
        var g, h, i, j, e = d.href || "", f = !1;
        for (g in b)if (h = b[g], i = e.match(h.matcher)) {
            f = h.type, j = a.extend(!0, {}, h.params, d[g] || (a.isPlainObject(b[g]) ? b[g].params : null)), e = a.type(h.url) === "function" ? h.url.call(this, i, j, d) : c(h.url, i, j);
            break
        }
        f && (d.href = e, d.type = f, d.autoHeight = !1)
    }}
})(jQuery);

/* Isotope v1.5.21 */
(function (a, b, c) {
    "use strict";
    var d = a.document, e = a.Modernizr, f = function (a) {
        return a.charAt(0).toUpperCase() + a.slice(1)
    }, g = "Moz Webkit O Ms".split(" "), h = function (a) {
        var b = d.documentElement.style, c;
        if (typeof b[a] == "string")return a;
        a = f(a);
        for (var e = 0, h = g.length; e < h; e++) {
            c = g[e] + a;
            if (typeof b[c] == "string")return c
        }
    }, i = h("transform"), j = h("transitionProperty"), k = {csstransforms:function () {
        return!!i
    }, csstransforms3d:function () {
        var a = !!h("perspective");
        if (a) {
            var c = " -o- -moz- -ms- -webkit- -khtml- ".split(" "), d = "@media (" + c.join("transform-3d),(") + "modernizr)", e = b("<style>" + d + "{#modernizr{height:3px}}" + "</style>").appendTo("head"), f = b('<div id="modernizr" />').appendTo("html");
            a = f.height() === 3, f.remove(), e.remove()
        }
        return a
    }, csstransitions:function () {
        return!!j
    }}, l;
    if (e)for (l in k)e.hasOwnProperty(l) || e.addTest(l, k[l]); else {
        e = a.Modernizr = {_version:"1.6ish: miniModernizr for Isotope"};
        var m = " ", n;
        for (l in k)n = k[l](), e[l] = n, m += " " + (n ? "" : "no-") + l;
        b("html").addClass(m)
    }
    if (e.csstransforms) {
        var o = e.csstransforms3d ? {translate:function (a) {
            return"translate3d(" + a[0] + "px, " + a[1] + "px, 0) "
        }, scale:function (a) {
            return"scale3d(" + a + ", " + a + ", 1) "
        }} : {translate:function (a) {
            return"translate(" + a[0] + "px, " + a[1] + "px) "
        }, scale:function (a) {
            return"scale(" + a + ") "
        }}, p = function (a, c, d) {
            var e = b.data(a, "isoTransform") || {}, f = {}, g, h = {}, j;
            f[c] = d, b.extend(e, f);
            for (g in e)j = e[g], h[g] = o[g](j);
            var k = h.translate || "", l = h.scale || "", m = k + l;
            b.data(a, "isoTransform", e), a.style[i] = m
        };
        b.cssNumber.scale = !0, b.cssHooks.scale = {set:function (a, b) {
            p(a, "scale", b)
        }, get:function (a, c) {
            var d = b.data(a, "isoTransform");
            return d && d.scale ? d.scale : 1
        }}, b.fx.step.scale = function (a) {
            b.cssHooks.scale.set(a.elem, a.now + a.unit)
        }, b.cssNumber.translate = !0, b.cssHooks.translate = {set:function (a, b) {
            p(a, "translate", b)
        }, get:function (a, c) {
            var d = b.data(a, "isoTransform");
            return d && d.translate ? d.translate : [0, 0]
        }}
    }
    var q, r;
    e.csstransitions && (q = {WebkitTransitionProperty:"webkitTransitionEnd", MozTransitionProperty:"transitionend", OTransitionProperty:"oTransitionEnd otransitionend", transitionProperty:"transitionend"}[j], r = h("transitionDuration"));
    var s = b.event, t;
    s.special.smartresize = {setup:function () {
        b(this).bind("resize", s.special.smartresize.handler)
    }, teardown:function () {
        b(this).unbind("resize", s.special.smartresize.handler)
    }, handler:function (a, b) {
        var c = this, d = arguments;
        a.type = "smartresize", t && clearTimeout(t), t = setTimeout(function () {
            jQuery.event.handle.apply(c, d)
        }, b === "execAsap" ? 0 : 100)
    }}, b.fn.smartresize = function (a) {
        return a ? this.bind("smartresize", a) : this.trigger("smartresize", ["execAsap"])
    }, b.Isotope = function (a, c, d) {
        this.element = b(c), this._create(a), this._init(d)
    };
    var u = ["width", "height"], v = b(a);
    b.Isotope.settings = {resizable:!0, layoutMode:"masonry", containerClass:"isotope", itemClass:"isotope-item", hiddenClass:"isotope-hidden", hiddenStyle:{opacity:0, scale:.001}, visibleStyle:{opacity:1, scale:1}, containerStyle:{position:"relative", overflow:"hidden"}, animationEngine:"best-available", animationOptions:{queue:!1, duration:800}, sortBy:"original-order", sortAscending:!0, resizesContainer:!0, transformsEnabled:!0, itemPositionDataEnabled:!1}, b.Isotope.prototype = {_create:function (a) {
        this.options = b.extend({}, b.Isotope.settings, a), this.styleQueue = [], this.elemCount = 0;
        var c = this.element[0].style;
        this.originalStyle = {};
        var d = u.slice(0);
        for (var e in this.options.containerStyle)d.push(e);
        for (var f = 0, g = d.length; f < g; f++)e = d[f], this.originalStyle[e] = c[e] || "";
        this.element.css(this.options.containerStyle), this._updateAnimationEngine(), this._updateUsingTransforms();
        var h = {"original-order":function (a, b) {
            return b.elemCount++, b.elemCount
        }, random:function () {
            return Math.random()
        }};
        this.options.getSortData = b.extend(this.options.getSortData, h), this.reloadItems(), this.offset = {left:parseInt(this.element.css("padding-left") || 0, 10), top:parseInt(this.element.css("padding-top") || 0, 10)};
        var i = this;
        setTimeout(function () {
            i.element.addClass(i.options.containerClass)
        }, 0), this.options.resizable && v.bind("smartresize.isotope", function () {
            i.resize()
        }), this.element.delegate("." + this.options.hiddenClass, "click", function () {
            return!1
        })
    }, _getAtoms:function (a) {
        var b = this.options.itemSelector, c = b ? a.filter(b).add(a.find(b)) : a, d = {position:"absolute"};
        return this.usingTransforms && (d.left = 0, d.top = 0), c.css(d).addClass(this.options.itemClass), this.updateSortData(c, !0), c
    }, _init:function (a) {
        this.$filteredAtoms = this._filter(this.$allAtoms), this._sort(), this.reLayout(a)
    }, option:function (a) {
        if (b.isPlainObject(a)) {
            this.options = b.extend(!0, this.options, a);
            var c;
            for (var d in a)c = "_update" + f(d), this[c] && this[c]()
        }
    }, _updateAnimationEngine:function () {
        var a = this.options.animationEngine.toLowerCase().replace(/[ _\-]/g, ""), b;
        switch (a) {
            case"css":
            case"none":
                b = !1;
                break;
            case"jquery":
                b = !0;
                break;
            default:
                b = !e.csstransitions
        }
        this.isUsingJQueryAnimation = b, this._updateUsingTransforms()
    }, _updateTransformsEnabled:function () {
        this._updateUsingTransforms()
    }, _updateUsingTransforms:function () {
        var a = this.usingTransforms = this.options.transformsEnabled && e.csstransforms && e.csstransitions && !this.isUsingJQueryAnimation;
        a || (delete this.options.hiddenStyle.scale, delete this.options.visibleStyle.scale), this.getPositionStyles = a ? this._translate : this._positionAbs
    }, _filter:function (a) {
        var b = this.options.filter === "" ? "*" : this.options.filter;
        if (!b)return a;
        var c = this.options.hiddenClass, d = "." + c, e = a.filter(d), f = e;
        if (b !== "*") {
            f = e.filter(b);
            var g = a.not(d).not(b).addClass(c);
            this.styleQueue.push({$el:g, style:this.options.hiddenStyle})
        }
        return this.styleQueue.push({$el:f, style:this.options.visibleStyle}), f.removeClass(c), a.filter(b)
    }, updateSortData:function (a, c) {
        var d = this, e = this.options.getSortData, f, g;
        a.each(function () {
            f = b(this), g = {};
            for (var a in e)!c && a === "original-order" ? g[a] = b.data(this, "isotope-sort-data")[a] : g[a] = e[a](f, d);
            b.data(this, "isotope-sort-data", g)
        })
    }, _sort:function () {
        var a = this.options.sortBy, b = this._getSorter, c = this.options.sortAscending ? 1 : -1, d = function (d, e) {
            var f = b(d, a), g = b(e, a);
            return f === g && a !== "original-order" && (f = b(d, "original-order"), g = b(e, "original-order")), (f > g ? 1 : f < g ? -1 : 0) * c
        };
        this.$filteredAtoms.sort(d)
    }, _getSorter:function (a, c) {
        return b.data(a, "isotope-sort-data")[c]
    }, _translate:function (a, b) {
        return{translate:[a, b]}
    }, _positionAbs:function (a, b) {
        return{left:a, top:b}
    }, _pushPosition:function (a, b, c) {
        b = Math.round(b + this.offset.left), c = Math.round(c + this.offset.top);
        var d = this.getPositionStyles(b, c);
        this.styleQueue.push({$el:a, style:d}), this.options.itemPositionDataEnabled && a.data("isotope-item-position", {x:b, y:c})
    }, layout:function (a, b) {
        var c = this.options.layoutMode;
        this["_" + c + "Layout"](a);
        if (this.options.resizesContainer) {
            var d = this["_" + c + "GetContainerSize"]();
            this.styleQueue.push({$el:this.element, style:d})
        }
        this._processStyleQueue(a, b), this.isLaidOut = !0
    }, _processStyleQueue:function (a, c) {
        var d = this.isLaidOut ? this.isUsingJQueryAnimation ? "animate" : "css" : "css", f = this.options.animationOptions, g = this.options.onLayout, h, i, j, k;
        i = function (a, b) {
            b.$el[d](b.style, f)
        };
        if (this._isInserting && this.isUsingJQueryAnimation)i = function (a, b) {
            h = b.$el.hasClass("no-transition") ? "css" : d, b.$el[h](b.style, f)
        }; else if (c || g || f.complete) {
            var l = !1, m = [c, g, f.complete], n = this;
            j = !0, k = function () {
                if (l)return;
                var b;
                for (var c = 0, d = m.length; c < d; c++)b = m[c], typeof b == "function" && b.call(n.element, a, n);
                l = !0
            };
            if (this.isUsingJQueryAnimation && d === "animate")f.complete = k, j = !1; else if (e.csstransitions) {
                var o = 0, p = this.styleQueue[0], s = p && p.$el, t;
                while (!s || !s.length) {
                    t = this.styleQueue[o++];
                    if (!t)return;
                    s = t.$el
                }
                var u = parseFloat(getComputedStyle(s[0])[r]);
                u > 0 && (i = function (a, b) {
                    b.$el[d](b.style, f).one(q, k)
                }, j = !1)
            }
        }
        b.each(this.styleQueue, i), j && k(), this.styleQueue = []
    }, resize:function () {
        this["_" + this.options.layoutMode + "ResizeChanged"]() && this.reLayout()
    }, reLayout:function (a) {
        this["_" + this.options.layoutMode + "Reset"](), this.layout(this.$filteredAtoms, a)
    }, addItems:function (a, b) {
        var c = this._getAtoms(a);
        this.$allAtoms = this.$allAtoms.add(c), b && b(c)
    }, insert:function (a, b) {
        this.element.append(a);
        var c = this;
        this.addItems(a, function (a) {
            var d = c._filter(a);
            c._addHideAppended(d), c._sort(), c.reLayout(), c._revealAppended(d, b)
        })
    }, appended:function (a, b) {
        var c = this;
        this.addItems(a, function (a) {
            c._addHideAppended(a), c.layout(a), c._revealAppended(a, b)
        })
    }, _addHideAppended:function (a) {
        this.$filteredAtoms = this.$filteredAtoms.add(a), a.addClass("no-transition"), this._isInserting = !0, this.styleQueue.push({$el:a, style:this.options.hiddenStyle})
    }, _revealAppended:function (a, b) {
        var c = this;
        setTimeout(function () {
            a.removeClass("no-transition"), c.styleQueue.push({$el:a, style:c.options.visibleStyle}), c._isInserting = !1, c._processStyleQueue(a, b)
        }, 10)
    }, reloadItems:function () {
        this.$allAtoms = this._getAtoms(this.element.children())
    }, remove:function (a, b) {
        this.$allAtoms = this.$allAtoms.not(a), this.$filteredAtoms = this.$filteredAtoms.not(a);
        var c = this, d = function () {
            a.remove(), b && b.call(c.element)
        };
        a.filter(":not(." + this.options.hiddenClass + ")").length ? (this.styleQueue.push({$el:a, style:this.options.hiddenStyle}), this._sort(), this.reLayout(d)) : d()
    }, shuffle:function (a) {
        this.updateSortData(this.$allAtoms), this.options.sortBy = "random", this._sort(), this.reLayout(a)
    }, destroy:function () {
        var a = this.usingTransforms, b = this.options;
        this.$allAtoms.removeClass(b.hiddenClass + " " + b.itemClass).each(function () {
            var b = this.style;
            b.position = "", b.top = "", b.left = "", b.opacity = "", a && (b[i] = "")
        });
        var c = this.element[0].style;
        for (var d in this.originalStyle)c[d] = this.originalStyle[d];
        this.element.unbind(".isotope").undelegate("." + b.hiddenClass, "click").removeClass(b.containerClass).removeData("isotope"), v.unbind(".isotope")
    }, _getSegments:function (a) {
        var b = this.options.layoutMode, c = a ? "rowHeight" : "columnWidth", d = a ? "height" : "width", e = a ? "rows" : "cols", g = this.element[d](), h, i = this.options[b] && this.options[b][c] || this.$filteredAtoms["outer" + f(d)](!0) || g;
        h = Math.floor(g / i), h = Math.max(h, 1), this[b][e] = h, this[b][c] = i
    }, _checkIfSegmentsChanged:function (a) {
        var b = this.options.layoutMode, c = a ? "rows" : "cols", d = this[b][c];
        return this._getSegments(a), this[b][c] !== d
    }, _masonryReset:function () {
        this.masonry = {}, this._getSegments();
        var a = this.masonry.cols;
        this.masonry.colYs = [];
        while (a--)this.masonry.colYs.push(0)
    }, _masonryLayout:function (a) {
        var c = this, d = c.masonry;
        a.each(function () {
            var a = b(this), e = Math.ceil(a.outerWidth(!0) / d.columnWidth);
            e = Math.min(e, d.cols);
            if (e === 1)c._masonryPlaceBrick(a, d.colYs); else {
                var f = d.cols + 1 - e, g = [], h, i;
                for (i = 0; i < f; i++)h = d.colYs.slice(i, i + e), g[i] = Math.max.apply(Math, h);
                c._masonryPlaceBrick(a, g)
            }
        })
    }, _masonryPlaceBrick:function (a, b) {
        var c = Math.min.apply(Math, b), d = 0;
        for (var e = 0, f = b.length; e < f; e++)if (b[e] === c) {
            d = e;
            break
        }
        var g = this.masonry.columnWidth * d, h = c;
        this._pushPosition(a, g, h);
        var i = c + a.outerHeight(!0), j = this.masonry.cols + 1 - f;
        for (e = 0; e < j; e++)this.masonry.colYs[d + e] = i
    }, _masonryGetContainerSize:function () {
        var a = Math.max.apply(Math, this.masonry.colYs);
        return{height:a}
    }, _masonryResizeChanged:function () {
        return this._checkIfSegmentsChanged()
    }, _fitRowsReset:function () {
        this.fitRows = {x:0, y:0, height:0}
    }, _fitRowsLayout:function (a) {
        var c = this, d = this.element.width(), e = this.fitRows;
        a.each(function () {
            var a = b(this), f = a.outerWidth(!0), g = a.outerHeight(!0);
            e.x !== 0 && f + e.x > d && (e.x = 0, e.y = e.height), c._pushPosition(a, e.x, e.y), e.height = Math.max(e.y + g, e.height), e.x += f
        })
    }, _fitRowsGetContainerSize:function () {
        return{height:this.fitRows.height}
    }, _fitRowsResizeChanged:function () {
        return!0
    }, _cellsByRowReset:function () {
        this.cellsByRow = {index:0}, this._getSegments(), this._getSegments(!0)
    }, _cellsByRowLayout:function (a) {
        var c = this, d = this.cellsByRow;
        a.each(function () {
            var a = b(this), e = d.index % d.cols, f = Math.floor(d.index / d.cols), g = (e + .5) * d.columnWidth - a.outerWidth(!0) / 2, h = (f + .5) * d.rowHeight - a.outerHeight(!0) / 2;
            c._pushPosition(a, g, h), d.index++
        })
    }, _cellsByRowGetContainerSize:function () {
        return{height:Math.ceil(this.$filteredAtoms.length / this.cellsByRow.cols) * this.cellsByRow.rowHeight + this.offset.top}
    }, _cellsByRowResizeChanged:function () {
        return this._checkIfSegmentsChanged()
    }, _straightDownReset:function () {
        this.straightDown = {y:0}
    }, _straightDownLayout:function (a) {
        var c = this;
        a.each(function (a) {
            var d = b(this);
            c._pushPosition(d, 0, c.straightDown.y), c.straightDown.y += d.outerHeight(!0)
        })
    }, _straightDownGetContainerSize:function () {
        return{height:this.straightDown.y}
    }, _straightDownResizeChanged:function () {
        return!0
    }, _masonryHorizontalReset:function () {
        this.masonryHorizontal = {}, this._getSegments(!0);
        var a = this.masonryHorizontal.rows;
        this.masonryHorizontal.rowXs = [];
        while (a--)this.masonryHorizontal.rowXs.push(0)
    }, _masonryHorizontalLayout:function (a) {
        var c = this, d = c.masonryHorizontal;
        a.each(function () {
            var a = b(this), e = Math.ceil(a.outerHeight(!0) / d.rowHeight);
            e = Math.min(e, d.rows);
            if (e === 1)c._masonryHorizontalPlaceBrick(a, d.rowXs); else {
                var f = d.rows + 1 - e, g = [], h, i;
                for (i = 0; i < f; i++)h = d.rowXs.slice(i, i + e), g[i] = Math.max.apply(Math, h);
                c._masonryHorizontalPlaceBrick(a, g)
            }
        })
    }, _masonryHorizontalPlaceBrick:function (a, b) {
        var c = Math.min.apply(Math, b), d = 0;
        for (var e = 0, f = b.length; e < f; e++)if (b[e] === c) {
            d = e;
            break
        }
        var g = c, h = this.masonryHorizontal.rowHeight * d;
        this._pushPosition(a, g, h);
        var i = c + a.outerWidth(!0), j = this.masonryHorizontal.rows + 1 - f;
        for (e = 0; e < j; e++)this.masonryHorizontal.rowXs[d + e] = i
    }, _masonryHorizontalGetContainerSize:function () {
        var a = Math.max.apply(Math, this.masonryHorizontal.rowXs);
        return{width:a}
    }, _masonryHorizontalResizeChanged:function () {
        return this._checkIfSegmentsChanged(!0)
    }, _fitColumnsReset:function () {
        this.fitColumns = {x:0, y:0, width:0}
    }, _fitColumnsLayout:function (a) {
        var c = this, d = this.element.height(), e = this.fitColumns;
        a.each(function () {
            var a = b(this), f = a.outerWidth(!0), g = a.outerHeight(!0);
            e.y !== 0 && g + e.y > d && (e.x = e.width, e.y = 0), c._pushPosition(a, e.x, e.y), e.width = Math.max(e.x + f, e.width), e.y += g
        })
    }, _fitColumnsGetContainerSize:function () {
        return{width:this.fitColumns.width}
    }, _fitColumnsResizeChanged:function () {
        return!0
    }, _cellsByColumnReset:function () {
        this.cellsByColumn = {index:0}, this._getSegments(), this._getSegments(!0)
    }, _cellsByColumnLayout:function (a) {
        var c = this, d = this.cellsByColumn;
        a.each(function () {
            var a = b(this), e = Math.floor(d.index / d.rows), f = d.index % d.rows, g = (e + .5) * d.columnWidth - a.outerWidth(!0) / 2, h = (f + .5) * d.rowHeight - a.outerHeight(!0) / 2;
            c._pushPosition(a, g, h), d.index++
        })
    }, _cellsByColumnGetContainerSize:function () {
        return{width:Math.ceil(this.$filteredAtoms.length / this.cellsByColumn.rows) * this.cellsByColumn.columnWidth}
    }, _cellsByColumnResizeChanged:function () {
        return this._checkIfSegmentsChanged(!0)
    }, _straightAcrossReset:function () {
        this.straightAcross = {x:0}
    }, _straightAcrossLayout:function (a) {
        var c = this;
        a.each(function (a) {
            var d = b(this);
            c._pushPosition(d, c.straightAcross.x, 0), c.straightAcross.x += d.outerWidth(!0)
        })
    }, _straightAcrossGetContainerSize:function () {
        return{width:this.straightAcross.x}
    }, _straightAcrossResizeChanged:function () {
        return!0
    }}, b.fn.imagesLoaded = function (a) {
        function h() {
            a.call(c, d)
        }

        function i(a) {
            var c = a.target;
            c.src !== f && b.inArray(c, g) === -1 && (g.push(c), --e <= 0 && (setTimeout(h), d.unbind(".imagesLoaded", i)))
        }

        var c = this, d = c.find("img").add(c.filter("img")), e = d.length, f = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==", g = [];
        return e || h(), d.bind("load.imagesLoaded error.imagesLoaded", i).each(function () {
            var a = this.src;
            this.src = f, this.src = a
        }), c
    };
    var w = function (b) {
        a.console && a.console.error(b)
    };
    b.fn.isotope = function (a, c) {
        if (typeof a == "string") {
            var d = Array.prototype.slice.call(arguments, 1);
            this.each(function () {
                var c = b.data(this, "isotope");
                if (!c) {
                    w("cannot call methods on isotope prior to initialization; attempted to call method '" + a + "'");
                    return
                }
                if (!b.isFunction(c[a]) || a.charAt(0) === "_") {
                    w("no such method '" + a + "' for isotope instance");
                    return
                }
                c[a].apply(c, d)
            })
        } else this.each(function () {
            var d = b.data(this, "isotope");
            d ? (d.option(a), d._init(c)) : b.data(this, "isotope", new b.Isotope(a, this, c))
        });
        return this
    }
})(window, jQuery);

/* Infinite Scroll 2.0b2.120519 */
(function (n, i, k) {
    i.infinitescroll = function y(B, D, C) {
        this.element = i(C);
        if (!this._create(B, D)) {
            this.failed = true
        }
    };
    i.infinitescroll.defaults = {loading:{finished:k, finishedMsg:"<em>No more available posts.</em>", img:"http://www.infinite-scroll.com/loading.gif", msg:null, msgText:"<em>Loading the next set of posts...</em>", selector:null, speed:"fast", start:k}, state:{isDuringAjax:false, isInvalidPage:false, isDestroyed:false, isDone:false, isPaused:false, currPage:1}, callback:k, debug:false, behavior:k, binder:i(n), nextSelector:"div.navigation a:first", navSelector:"div.navigation", contentSelector:null, extraScrollPx:150, itemSelector:"div.post", animate:false, pathParse:k, dataType:"html", appendCallback:true, bufferPx:40, errorCallback:function () {
    }, infid:0, pixelsFromNavToBottom:k, path:k};
    i.infinitescroll.prototype = {_binding:function g(D) {
        var B = this, C = B.options;
        C.v = "2.0b2.111027";
        if (!!C.behavior && this["_binding_" + C.behavior] !== k) {
            this["_binding_" + C.behavior].call(this);
            return
        }
        if (D !== "bind" && D !== "unbind") {
            this._debug("Binding value  " + D + " not valid");
            return false
        }
        if (D == "unbind") {
            (this.options.binder).unbind("smartscroll.infscr." + B.options.infid)
        } else {
            (this.options.binder)[D]("smartscroll.infscr." + B.options.infid, function () {
                B.scroll()
            })
        }
        this._debug("Binding", D)
    }, _create:function s(B, E) {
        var C = i.extend(true, {}, i.infinitescroll.defaults, B);
        if (!this._validate(B)) {
            return false
        }
        this.options = C;
        var D = i(C.nextSelector).attr("href");
        if (!D) {
            this._debug("Navigation selector not found");
            return false
        }
        C.path = this._determinepath(D);
        C.contentSelector = C.contentSelector || this.element;
        C.loading.selector = C.loading.selector || C.contentSelector;
        C.loading.msg = C.loading.msg || i('<div id="infscr-loading"><img alt="Loading..." src="' + C.loading.img + '" /><div>' + C.loading.msgText + "</div></div>");
        (new Image()).src = C.loading.img;
        C.pixelsFromNavToBottom = i(document).height() - i(C.navSelector).offset().top;
        C.loading.start = C.loading.start || function () {
            i(C.navSelector).hide();
            C.loading.msg.appendTo(C.loading.selector).show(C.loading.speed, function () {
                beginAjax(C)
            })
        };
        C.loading.finished = C.loading.finished || function () {
            C.loading.msg.fadeOut("normal")
        };
        C.callback = function (F, G) {
            if (!!C.behavior && F["_callback_" + C.behavior] !== k) {
                F["_callback_" + C.behavior].call(i(C.contentSelector)[0], G)
            }
            if (E) {
                E.call(i(C.contentSelector)[0], G, C)
            }
        };
        if (B.debug) {
            if (Function.prototype.bind && (typeof console === "object" || typeof console === "function") && typeof console.log === "object") {
                ["log", "info", "warn", "error", "assert", "dir", "clear", "profile", "profileEnd"].forEach(function (F) {
                    console[F] = this.call(console[F], console)
                }, Function.prototype.bind)
            }
        }
        this._setup();
        return true
    }, _debug:function p() {
        if (typeof console !== "undefined" && typeof console.log === "function") {
            if ((Array.prototype.slice.call(arguments)).length === 1 && typeof Array.prototype.slice.call(arguments)[0] === "string") {
                console.log((Array.prototype.slice.call(arguments)).toString())
            } else {
                console.log(Array.prototype.slice.call(arguments))
            }
        } else {
            if (!Function.prototype.bind && typeof console !== "undefined" && typeof console.log === "object") {
                Function.prototype.call.call(console.log, console, Array.prototype.slice.call(arguments))
            }
        }
    }, _determinepath:function z(C) {
        var B = this.options;
        if (!!B.behavior && this["_determinepath_" + B.behavior] !== k) {
            this["_determinepath_" + B.behavior].call(this, C);
            return
        }
        if (!!B.pathParse) {
            this._debug("pathParse manual");
            return B.pathParse(C, this.options.state.currPage + 1)
        } else {
            if (C.match(/^(.*?)\b2\b(.*?$)/)) {
                C = C.match(/^(.*?)\b2\b(.*?$)/).slice(1)
            } else {
                if (C.match(/^(.*?)2(.*?$)/)) {
                    if (C.match(/^(.*?page=)2(\/.*|$)/)) {
                        C = C.match(/^(.*?page=)2(\/.*|$)/).slice(1);
                        return C
                    }
                    C = C.match(/^(.*?)2(.*?$)/).slice(1)
                } else {
                    if (C.match(/^(.*?page=)1(\/.*|$)/)) {
                        C = C.match(/^(.*?page=)1(\/.*|$)/).slice(1);
                        return C
                    } else {
                        this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");
                        B.state.isInvalidPage = true
                    }
                }
            }
        }
        this._debug("determinePath", C);
        return C
    }, _error:function u(C) {
        var B = this.options;
        if (!!B.behavior && this["_error_" + B.behavior] !== k) {
            this["_error_" + B.behavior].call(this, C);
            return
        }
        if (C !== "destroy" && C !== "end") {
            C = "unknown"
        }
        this._debug("Error", C);
        if (C == "end") {
            this._showdonemsg()
        }
        B.state.isDone = true;
        B.state.currPage = 1;
        B.state.isPaused = false;
        this._binding("unbind")
    }, _loadcallback:function c(F, G) {
        var E = this.options, I = this.options.callback, B = (E.state.isDone) ? "done" : (!E.appendCallback) ? "no-append" : "append", H;
        if (!!E.behavior && this["_loadcallback_" + E.behavior] !== k) {
            this["_loadcallback_" + E.behavior].call(this, F, G);
            return
        }
        switch (B) {
            case"done":
                this._showdonemsg();
                return false;
                break;
            case"no-append":
                if (E.dataType == "html") {
                    G = "<div>" + G + "</div>";
                    G = i(G).find(E.itemSelector)
                }
                break;
            case"append":
                var D = F.children();
                if (D.length == 0) {
                    return this._error("end")
                }
                H = document.createDocumentFragment();
                while (F[0].firstChild) {
                    H.appendChild(F[0].firstChild)
                }
                this._debug("contentSelector", i(E.contentSelector)[0]);
                i(E.contentSelector)[0].appendChild(H);
                G = D.get();
                break
        }
        E.loading.finished.call(i(E.contentSelector)[0], E);
        if (E.animate) {
            var C = i(n).scrollTop() + i("#infscr-loading").height() + E.extraScrollPx + "px";
            i("html,body").animate({scrollTop:C}, 800, function () {
                E.state.isDuringAjax = false
            })
        }
        if (!E.animate) {
            E.state.isDuringAjax = false
        }
        I(this, G)
    }, _nearbottom:function t() {
        var C = this.options, B = 0 + i(document).height() - (C.binder.scrollTop()) - i(n).height();
        if (!!C.behavior && this["_nearbottom_" + C.behavior] !== k) {
            return this["_nearbottom_" + C.behavior].call(this)
        }
        this._debug("math:", B, C.pixelsFromNavToBottom);
        return(B - C.bufferPx < C.pixelsFromNavToBottom)
    }, _pausing:function l(C) {
        var B = this.options;
        if (!!B.behavior && this["_pausing_" + B.behavior] !== k) {
            this["_pausing_" + B.behavior].call(this, C);
            return
        }
        if (C !== "pause" && C !== "resume" && C !== null) {
            this._debug("Invalid argument. Toggling pause value instead")
        }
        C = (C && (C == "pause" || C == "resume")) ? C : "toggle";
        switch (C) {
            case"pause":
                B.state.isPaused = true;
                break;
            case"resume":
                B.state.isPaused = false;
                break;
            case"toggle":
                B.state.isPaused = !B.state.isPaused;
                break
        }
        this._debug("Paused", B.state.isPaused);
        return false
    }, _setup:function q() {
        var B = this.options;
        if (!!B.behavior && this["_setup_" + B.behavior] !== k) {
            this["_setup_" + B.behavior].call(this);
            return
        }
        this._binding("bind");
        return false
    }, _showdonemsg:function a() {
        var B = this.options;
        if (!!B.behavior && this["_showdonemsg_" + B.behavior] !== k) {
            this["_showdonemsg_" + B.behavior].call(this);
            return
        }
        B.loading.msg.find("img").hide().parent().find("div").html(B.loading.finishedMsg).animate({opacity:1}, 2000, function () {
            i(this).parent().fadeOut("normal")
        });
        B.errorCallback.call(i(B.contentSelector)[0], "done")
    }, _validate:function v(C) {
        for (var B in C) {
            if (B.indexOf && B.indexOf("Selector") > -1 && i(C[B]).length === 0) {
                this._debug("Your " + B + " found no elements.");
                return false
            }
        }
        return true
    }, bind:function o() {
        this._binding("bind")
    }, destroy:function A() {
        this.options.state.isDestroyed = true;
        return this._error("destroy")
    }, pause:function e() {
        this._pausing("pause")
    }, resume:function h() {
        this._pausing("resume")
    }, retrieve:function b(H) {
        var I = this, C = I.options, K = C.path, E, J, L, B, D, H = H || null, G = (!!H) ? H : C.state.currPage;
        beginAjax = function F(M) {
            M.state.currPage++;
            I._debug("heading into ajax", K);
            E = i(M.contentSelector).is("table") ? i("<tbody/>") : i("<div/>");
            L = K.join(M.state.currPage);
            B = (M.dataType == "html" || M.dataType == "json") ? M.dataType : "html+callback";
            if (M.appendCallback && M.dataType == "html") {
                B += "+callback"
            }
            switch (B) {
                case"html+callback":
                    I._debug("Using HTML via .load() method");
                    E.load(L + " " + M.itemSelector, null, function N(O) {
                        I._loadcallback(E, O)
                    });
                    break;
                case"html":
                    I._debug("Using " + (B.toUpperCase()) + " via $.ajax() method");
                    i.ajax({url:L, dataType:M.dataType, complete:function N(O, P) {
                        D = (typeof(O.isResolved) !== "undefined") ? (O.isResolved()) : (P === "success" || P === "notmodified");
                        (D) ? I._loadcallback(E, O.responseText) : I._error("end")
                    }});
                    break;
                case"json":
                    I._debug("Using " + (B.toUpperCase()) + " via $.ajax() method");
                    i.ajax({dataType:"json", type:"GET", url:L, success:function (Q, R, P) {
                        D = (typeof(P.isResolved) !== "undefined") ? (P.isResolved()) : (R === "success" || R === "notmodified");
                        if (M.appendCallback) {
                            if (M.template != k) {
                                var O = M.template(Q);
                                E.append(O);
                                (D) ? I._loadcallback(E, O) : I._error("end")
                            } else {
                                I._debug("template must be defined.");
                                I._error("end")
                            }
                        } else {
                            (D) ? I._loadcallback(E, Q) : I._error("end")
                        }
                    }, error:function (O, Q, P) {
                        I._debug("JSON ajax request failed.");
                        I._error("end")
                    }});
                    break
            }
        };
        if (!!C.behavior && this["retrieve_" + C.behavior] !== k) {
            this["retrieve_" + C.behavior].call(this, H);
            return
        }
        if (C.state.isDestroyed) {
            this._debug("Instance is destroyed");
            return false
        }
        C.state.isDuringAjax = true;
        C.loading.start.call(i(C.contentSelector)[0], C)
    }, scroll:function f() {
        var B = this.options, C = B.state;
        if (!!B.behavior && this["scroll_" + B.behavior] !== k) {
            this["scroll_" + B.behavior].call(this);
            return
        }
        if (C.isDuringAjax || C.isInvalidPage || C.isDone || C.isDestroyed || C.isPaused) {
            return
        }
        if (!this._nearbottom()) {
            return
        }
        this.retrieve()
    }, toggle:function x() {
        this._pausing()
    }, unbind:function m() {
        this._binding("unbind")
    }, update:function j(B) {
        if (i.isPlainObject(B)) {
            this.options = i.extend(true, this.options, B)
        }
    }};
    i.fn.infinitescroll = function d(D, E) {
        var C = typeof D;
        switch (C) {
            case"string":
                var B = Array.prototype.slice.call(arguments, 1);
                this.each(function () {
                    var F = i.data(this, "infinitescroll");
                    if (!F) {
                        return false
                    }
                    if (!i.isFunction(F[D]) || D.charAt(0) === "_") {
                        return false
                    }
                    F[D].apply(F, B)
                });
                break;
            case"object":
                this.each(function () {
                    var F = i.data(this, "infinitescroll");
                    if (F) {
                        F.update(D)
                    } else {
                        F = new i.infinitescroll(D, E, this);
                        if (!F.failed) {
                            i.data(this, "infinitescroll", F)
                        }
                    }
                });
                break
        }
        return this
    };
    var w = i.event, r;
    w.special.smartscroll = {setup:function () {
        i(this).bind("scroll", w.special.smartscroll.handler)
    }, teardown:function () {
        i(this).unbind("scroll", w.special.smartscroll.handler)
    }, handler:function (E, B) {
        var D = this, C = arguments;
        E.type = "smartscroll";
        if (r) {
            clearTimeout(r)
        }
        r = setTimeout(function () {
            i.event.handle.apply(D, C)
        }, B === "execAsap" ? 0 : 100)
    }};
    i.fn.smartscroll = function (B) {
        return B ? this.bind("smartscroll", B) : this.trigger("smartscroll", ["execAsap"])
    }
})(window, jQuery);